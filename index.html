<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bridge Ethereum to NEAR and back again</title><meta property="og:title" content="🌈 Rainbow Bridge 🌈"><meta property="og:description" content="Bridge Ethereum to NEAR and back again"><meta property="og:image" content="rainbow-black.2b7b2946.gif"><meta name="twitter:card" content="summary_large_image"><link rel="icon" href="favicon.43446a37.ico"><link rel="manifest" href="site.webmanifest"><link rel="apple-touch-icon" href="android-chrome-192x192.6afa6472.png"><link rel="stylesheet" href="global.d7c5c4ea.css"></head><body>  <nav style="display:flex;align-items:stretch;position:absolute;right:.5em;top:.5em;z-index:2"> <div data-behavior="signed-in" id="transfers" class="dropdown" aria-live="polite" style="display:none"> <button aria-controls="transfers"> <div data-behavior="transfers-none"> <picture> <source srcset="bell-white.fbfc2767.svg" media="(prefers-color-scheme: dark)"> <img style="width:1em;vertical-align:middle" alt="no transfers" src="bell-black.6b4ef915.svg"> </picture> </div> <div data-behavior="transfers-in-progress" style="display:none"> <picture> <source srcset="rainbow-black.2b7b2946.gif" media="(prefers-color-scheme: dark)"> <img style="width:4em;vertical-align:middle" alt="view transfers" src="rainbow-white.aa043725.gif"> </picture> </div> <div data-behavior="transfers-all-complete" style="display:none"> <picture> <source srcset="bell-white.fbfc2767.svg" media="(prefers-color-scheme: dark)"> <img style="width:1em;vertical-align:middle" alt="no transfers" src="bell-black.6b4ef915.svg"> </picture> <div class="notification-indicator"> <span data-behavior="notification-count">#</span> <span class="visually-hidden">notifications</span> </div> </div> </button> <div class="right"> <div data-behavior="transfers-none"> <div style="display:flex;flex-direction:column;height:3em;justify-content:space-around;text-align:center;width:10em;"> No transfers </div> </div> <div data-behavior="transfers-container"></div> </div> </div> <div id="menu" class="dropdown" aria-live="polite" style="font-size:.8em"> <button class="menu-icon" aria-controls="menu"> <div></div> <span class="visually-hidden">menu</span> </button> <div class="right" style="width:7em"> <div> <a href="https://github.com/near/rainbow-bridge-frontend">View source</a> </div> <div data-behavior="signed-in" style="display:none;margin-top:.5em"> <button class="link" data-behavior="logout"> Sign out </button> </div> </div> </div> </nav><style>.menu-icon{padding-top:.5em}.menu-icon:after,.menu-icon:before,.menu-icon div{background-color:var(--fg);border-radius:3px;content:"";display:block;height:2px;margin:3px 0;width:1em}.notification-indicator{background-color:var(--secondary);border-radius:50em;color:var(--white);font-size:.55em;line-height:1;padding:.2em .4em;position:absolute;right:.5em;top:.5em;vertical-align:super}.transfer{background-color:var(--bg);border-radius:5px;display:flex;margin-bottom:.5em;min-height:3em;padding:.5rem;position:relative;text-align:left}.transfer:last-child{margin-bottom:0}.transfer header{align-items:center;display:grid;margin-right:.5em;grid-template-columns:repeat(5,auto);grid-gap:.2em}.transfer header .arrow{font-weight:200;color:var(--secondary)}.transfer header .arrow.failed{color:var(--error)}.transfer header .arrow.success{color:var(--success)}.transfer header .arrow.animate{animation:rainbow 1.5s ease-in-out infinite}.transfer header+*{display:flex;flex-direction:column;justify-content:space-around;text-align:center;flex:1}.transfer p{margin:0}.transfer footer{font-size:.8em;margin-right:-.5rem;margin-top:-.5rem}.transfer footer button{background:none;box-shadow:none;color:var(--fg);border:1px solid var(--bg);padding:0 .25em;text-decoration:none}.transfer footer button:focus,.transfer footer button:hover{background:var(--shadow)}.transfer footer button:focus{border-color:var(--light-gray)}.transfer footer button:active{background:var(--light-gray)}.select-erc20,.send-erc20{margin:4rem auto;max-width:20em}.send-erc20 .grid{align-items:stretch;grid-template-columns:repeat(3,minmax(10em,1fr))}.send-erc20 .grid>*{display:flex;flex-direction:column;justify-content:space-around}.send-erc20 section{border-radius:5px;border:1px solid var(--gray);display:flex;flex-direction:column;justify-content:space-between;padding:.5em .5em 0;position:relative;text-align:center}.send-erc20 section header{position:absolute;top:-1.3em;left:0}.send-erc20 section header img{height:1em}.send-erc20 section button{padding:0 .25em}.send-erc20 section footer{font-size:.8em}.send-erc20 section footer img{width:1em;vertical-align:bottom}#toEth:after{content:"↑"}#toNear:after{content:"↓"}@media(min-width:650px){.send-erc20{max-width:40em}.send-erc20 .grid{display:grid}#toEth:after{content:"←"}#toNear:after{content:"→"}}</style> <div data-behavior="signed-out"> <h1 class="title">Eth→NEAR Fungible Tokens</h1> <div style="margin:0 auto;max-width:25em"> <p> Send an <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow">ERC20</a> token over the <a href="https://github.com/near/rainbow-bridge">Rainbow Bridge</a>, get an <a href="https://github.com/nearprotocol/NEPs/pull/21">NEP21</a> token on <a href="https://near.org/" rel="nofollow">NEAR</a> </p> <div style="text-align:center;margin-top:2.5em"> <p> <button data-behavior="authEthereum"> Connect to Ethereum </button> </p> <p> <button data-behavior="authNear"> Sign in with NEAR </button> </p> </div> </div> </div> <main data-behavior="signed-in" style="display:none"> <form data-behavior="select-erc20" class="select-erc20" method="get"> <label for="erc20"> Select an ERC20 token </label> <div style="display:flex"> <select data-behavior="erc20Selector" id="erc20" name="erc20" style="border-radius:5px 0 0 5px"> </select> <button id="submit" style="border-radius:0 5px 5px 0"> Go </button> </div> </form> <div class="send-erc20" data-behavior="send-erc20" style="display:none"> <div class="grid"> <section class="balance"> <header> <img alt="ethereum" src="eth-diamond-purple.353e9b14.png"> Ethereum </header> <div> <span id="erc20name" class="dropdown" aria-live="polite"> <button aria-controls="erc20name" data-behavior="ethErc20Name">🤔</button> <small class="left" style="width:27em;text-align:left"> Contract <code data-behavior="ethErc20Address">🤔</code> </small> </span> balance </div> <strong class="jumbo" data-behavior="erc20Balance">🤔</strong> <footer> <img alt="account" src="account.8c24582a.svg"> <code data-behavior="ethUser" class="clip">🤔</code> </footer> </section> <div data-behavior="notBridged" style="grid-column:span 2;margin:1em 0 0 1em;display:none"> <p> Not yet bridged! </p> <p> The <a href="https://github.com/near/rainbow-token-connector" target="_blank">Fungible Token Connector</a> allows sending any <a href="https://eips.ethereum.org/EIPS/eip-20" target="_blank">ERC20</a> token to NEAR, but requires a one-time deploy of a "BridgeToken" <a href="https://docs.near.org/docs/roles/developer/contracts/intro#get-started" target="_blank">smart contract</a>. No one has deployed such a contract for this token yet. </p> <p> But you can! </p> <p> It will require about 30 Ⓝ to cover <a href="https://docs.near.org/docs/concepts/storage" target="_blank">storage fees</a>. </p> <p> <button>Bridge it!</button> </p> </div> <div data-behavior="balanceZero" style="grid-column:span 2;margin:1em 0 0 1em"> <p> Uh oh! You have no <span data-behavior="ethErc20Name">🤔</span> tokens. If you want to send some to yourself on NEAR, you'll need to get some on Ethereum first 😄 </p> <p data-behavior="abound-token" style="display:none"> You can <a href="https://chadoh.com/abundance-token" target="_blank">mint yourself more <span data-behavior="ethErc20Name">🤔</span></a>! </p> <p data-behavior="not-abound-token"> Maybe you need to use a different account? </p> </div> <form data-behavior="balancePositive" style="display:none"> <fieldset id="fieldset"> <label for="amount">Send</label> <div style="display:flex"> <input autocomplete="off" id="amount" name="amount" type="number" min="0" style="order:1"> <button aria-controls="transfers" disabled id="toEth" name="toEth" style="border-radius:5px 0 0 5px;order:0" value="toEth"> <span class="visually-hidden">to Ethereum</span> </button> <button aria-controls="transfers" disabled id="toNear" name="toNear" style="border-radius:0 5px 5px 0;order:2" value="to NEAR"> <span class="visually-hidden">to NEAR</span> </button> </div> </fieldset> </form> <section class="balance" data-behavior="balancePositive" style="display:none"> <header> <picture> <source srcset="near-icon-white.b9f9d65c.svg" media="(prefers-color-scheme: dark)"> <img alt="near" src="near-icon-black.fb80f1a9.svg"> </picture> NEAR </header> <div> <span id="nep21name" class="dropdown" aria-live="polite"> <button aria-controls="nep21name" data-behavior="nearNep21Name">🤔</button> <small class="right" style="width:14em"> Contract <code data-behavior="nearFunTokenAccount">🤔</code> </small> </span> balance </div> <strong class="jumbo" data-behavior="nep21Balance">🤔</strong> <footer> <img alt="account" src="account.8c24582a.svg"> <code data-behavior="nearUser" class="clip">🤔</code> </footer> </section> </div> <p style="text-align:center;margin-top:3rem"> <button style="background:var(--error)" data-behavior="cancelSendingErc20"> Cancel </button> </p> </div><script>async function e(e,n){let{inProgress:t}=n;return'\n       <div class="transfer" id="'.concat(e.id,'" data-behavior="transfer">\n         <header>\n          ').concat(t?' <span class="loader" style="font-size: 0.75em; margin: -0.5em 0 0 -0.7em">in progress: </span>':" <span>".concat("success"===e.outcome?"🌈":"😞"," </span>"),"\n           <span>").concat(e.amount," </span>\n           <span>").concat(e.erc20Name,' </span>\n           <span class="arrow ').concat(t?"animate":e.outcome,'">→ </span>\n           <span>').concat("n"+e.erc20Name," </span>\n         </header>\n         <div>\n           <p>").concat(window.transfers.humanStatusFor(e)," </p>\n         </div>\n        ").concat(t?"":"\n           <footer>\n            ".concat("success"===e.outcome?'\n               <button data-behavior="delete-transfer">\n                 <span class="visually-hidden">clear </span>\n                 <span aria-hidden="true">⨉ </span>\n               </button>\n            ':'\n               <button data-behavior="retry-transfer">\n                 <span class="visually-hidden">retry </span>\n                 <span aria-hidden="true" title="retry">↻ </span>\n               </button>\n            ',"\n           </footer>\n        "),"\n       </div>\n    ")}async function n(){const{inProgress:n,complete:t}=window.transfers.get();n.length||t.length?(hide("transfers-none"),n.length?(show("transfers-in-progress"),hide("transfers-all-complete")):(hide("transfers-in-progress"),show("transfers-all-complete"))):(show("transfers-none"),hide("transfers-in-progress"),hide("transfers-all-complete")),fill("notification-count").with(t.length),fill("transfers-container").with(await Promise.all([...t.map(n=>e(n,{inProgress:!1})),...n.map(n=>e(n,{inProgress:!0}))]))}async function t(){window.urlParams.get("erc20")?window.hide("select-erc20"):window.show("select-erc20");const e=await Promise.all("0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8,0xD959Dc6e63B9521A042A1b30003b00D0356a1cd5,0x09ff402D55096bFB134DD4a34A42579b7925becC,0x8151a8F90267bFf183E06921841C5dE774499388,0x21e7381368baa3f3e9640fe19780c4271ad96f37".split(",").map(async e=>{return{address:e,name:await window.getErc20Name(e)}}));window.fill("erc20Selector").with(e.map(e=>{let{address:n,name:t}=e;return' <option value="'.concat(n,'">').concat(t," </option>")}))}async function a(){const e=window.urlParams.get("erc20");if(!e)return void window.hide("send-erc20");window.show("send-erc20"),e!==document.querySelector("[data-behavior=ethErc20Address]").innerText&&(window.fill("erc20Balance").with("•••"),window.fill("nep21Balance").with("•••"));const n=await window.getErc20Name(e);window.fill("ethErc20Name").with(n),window.fill("ethErc20Address").with(e),window.fill("nearNep21Name").with("n"+n),window.fill("ethUser").with(window.ethUserAddress),window.fill("nearUser").with(window.nearUserAddress),window.fill("ethNetworkName").with(await window.web3.eth.net.getNetworkType());const t=await o(e);window.fill("erc20Balance").with(r(t));const a=await i(e);if(t||a)if(null===a)window.hide("balancePositive"),window.hide("balanceZero"),window.show("notBridged");else{window.fill("nep21Balance").with(r(a)),window.hide("balanceZero"),window.hide("notBridged"),window.show("balancePositive");const e=document.querySelector("[data-behavior=send-erc20] #toEth"),n=document.querySelector("[data-behavior=send-erc20] #toNear"),o=document.querySelector("[data-behavior=send-erc20] #amount");o.max=Math.max(t,a),o.dataset.nep21Balance=a,o.dataset.erc20Balance=t,t?(n.style.display="",o.style.borderTopRightRadius=0,o.style.borderBottomRightRadius=0):(n.style.display="none",o.style.borderTopRightRadius="5px",o.style.borderBottomRightRadius="5px"),a?(e.style.display="",o.style.borderTopLeftRadius=0,o.style.borderBottomLeftRadius=0):(e.style.display="none",o.style.borderTopLeftRadius="5px",o.style.borderBottomLeftRadius="5px")}else window.hide("balancePositive"),window.hide("notBridged"),window.show("balanceZero"),"0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8"===e?(window.show("abound-token"),window.hide("not-abound-token")):(window.hide("abound-token"),window.show("not-abound-token"))}window.renderers=[],window.addEventListener("load",function(){document.querySelector("[data-behavior=logout]").onclick=async function(){await window.web3Modal.clearCachedProvider(),window.nearConnection.signOut(),setTimeout(()=>window.location.reload())},document.querySelector("body").addEventListener("click",e=>{const n=e.target.closest("[data-behavior=delete-transfer]");if(!n)return;const t=n.closest("[data-behavior=transfer]").id;window.transfers.clear(t),render()}),document.querySelector("body").addEventListener("click",e=>{const n=e.target.closest("[data-behavior=retry-transfer]");if(!n)return;const t=n.closest("[data-behavior=transfer]").id;window.transfers.retry(t,render)})}),window.renderers.push(n),window.addEventListener("load",function(){document.querySelector("[data-behavior=select-erc20]").onsubmit=(e=>{e.preventDefault(),window.urlParams.set({erc20:e.target.elements.erc20.value}),window.render()})}),window.renderers.push(t),window.addEventListener("load",function(){function e(e){let{before:n,action:t,after:a}=e;return async function(e){e.preventDefault();const r=e.target.closest("form").elements,{amount:o,fieldset:i}=r;i.disabled=!0,n(r);try{await t(Number(o.value))}catch(d){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),d}finally{i.disabled=!1}a(r),o.value="",toEth.disabled=!0,toNear.disabled=!0,window.urlParams.clear("erc20"),await window.render();const s=document.querySelector("#transfers button");s.click(),s.focus()}}document.querySelector("input#amount").oninput=function(){const e=document.querySelector("[data-behavior=send-erc20] #amount"),n=Number(e.value),t=Number(e.dataset.erc20Balance),a=Number(e.dataset.nep21Balance),r=document.querySelector("[data-behavior=send-erc20] #toNear");r.disabled=!(n>0&&n<=t);const o=document.querySelector("[data-behavior=send-erc20] #toEth");o.disabled=!(n>0&&n<=a)},document.querySelector("[data-behavior=send-erc20] form").onsubmit=(e=>e.preventDefault()),document.querySelector("[data-behavior=send-erc20] #toNear").onclick=e({before:e=>{let{toEth:n}=e;n.dataset.displayBefore=n.style.display,n.style.display="none"},action:e=>window.transfers.initiate({amount:e,callback:window.render,naturalErc20:window.urlParams.get("erc20")}),after:e=>{let{toEth:n}=e;n.style.display=n.dataset.displayBefore,delete n.dataset.displayBefore}}),document.querySelector("[data-behavior=send-erc20] #toEth").onclick=e({before:e=>{let{toNear:n}=e;n.dataset.displayBefore=n.style.display,n.style.display="none"},action:e=>window.transfers.initiate({amount:e,callback:window.render,nep21FromErc20:s(window.urlParams.get("erc20"))}),after:e=>{let{toNear:n}=e;n.style.display=n.dataset.displayBefore,delete n.dataset.displayBefore}}),document.querySelector("[data-behavior=notBridged] button").onclick=function(){window.nearFungibleTokenFactory.deploy_bridge_token({address:window.urlParams.get("erc20").replace("0x","")},new window.BN(3e13).mul(new window.BN(2)),new window.BN(window.parseNearAmount("30.02")))},document.querySelector("[data-behavior=cancelSendingErc20]").onclick=function(){window.urlParams.clear("erc20"),window.render()}});const r=e=>e>=1e5||e<.001&&0!==e?e.toExponential(2):new Intl.NumberFormat(void 0,{maximumSignificantDigits:5}).format(e);async function o(e){const n=new window.web3.eth.Contract(JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),e,{from:window.ethUserAddress});return Number(await n.methods.balanceOf(window.ethUserAddress).call())}async function i(e){return(await new window.NearContract(window.nearConnection.account(),s(e),{viewMethods:["get_balance"]})).get_balance({owner_id:window.nearUserAddress}).then(e=>Number(e)).catch(()=>null)}function s(e){return e.replace("0x","").toLowerCase()+".ntf4.bridge2.testnet"}window.renderers.push(a);</script> </main> <script src="js.99111385.js"></script> </body></html>