<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bridge Ethereum to NEAR and back again</title><meta property="og:title" content="ðŸŒˆ Rainbow Bridge ðŸŒˆ"><meta property="og:description" content="Bridge Ethereum to NEAR and back again"><meta property="og:image" content="https://near.github.io/rainbow-bridge-frontend/bridge-fb.png"><meta name="twitter:image" content="https://near.github.io/rainbow-bridge-frontend/bridge-tw.png"><meta property="og:url" content="https://ethereum.bridgetonear.org/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@NEARProtocol"><link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.ae996f7e.png"><link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.d65c9a28.png"><link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.29aaa63f.png"><link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.3cf4276c.png"><link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.ea4f5076.png"><link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.bab4b2f7.png"><link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.cff7adb6.png"><link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.88c6db51.png"><link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.bafe8161.png"><link rel="icon" type="image/png" sizes="192x192" href="android-icon-192x192.db8619ca.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.936cab43.png"><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.16e9fdba.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.88d8dbe7.png"><link rel="manifest" href="img/icons/manifest.js"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="ms-icon-144x144.cff7adb6.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://rsms.me"><link rel="preconnect" href="https://fonts.gstatic.com"><link rel="prerender" href="https://wallet.testnet.near.org"><link href="https://rsms.me/inter/inter.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"><link rel="stylesheet" href="global.2523b7f5.css"></head><body>  <aside class="banner caution"> <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.86 2.573L1.213 12a1.333 1.333 0 001.14 2h11.294a1.332 1.332 0 001.14-2L9.14 2.573a1.333 1.333 0 00-2.28 0v0zM8 11.333h.007M8 6v2.667" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg> <span> <strong>CAUTION: </strong>The Rainbow Bridge is currently incompatible with NEAR wallets that are secured with either Ledger devices, or two-factor authentication. This issue will be resolved soon. </span> </aside><style>.banner{display:flex;align-items:center;justify-content:center;font-size:var(--fs-micro);font-weight:var(--fw-regular);padding:var(--spacing-m);text-align:center}.banner svg{margin-right:var(--spacing-s)}.banner.caution{color:var(--orange-800);background:var(--orange-400)}.banner.caution svg line,.banner.caution svg path{stroke:var(--orange-700)}.banner.danger{color:var(--red-800);background:var(--red-400)}.banner.danger svg path{stroke:var(--red-700)}.banner.blue{color:var(--blue-700);background:var(--blue-300)}.banner.blue svg path{stroke:var(--blue-700)}.site-nav,.site-nav__wrapper{display:flex;align-items:center}.site-nav{background-color:var(--white);justify-content:space-between;height:var(--header-height);padding:0 var(--spacing-m);position:fixed;width:100%;top:0;border-bottom:1px solid var(--gray-200)}.navLogo{background:url(rainbow-bridge.e14f3fa2.svg) no-repeat;height:32px;width:51px;display:block;margin-right:var(--spacing-xxl);text-indent:-999px}.dropdown{font-size:var(--fs-micro);position:relative;z-index:1}.dropdown-trigger{background-color:var(--white);border:1px solid var(--gray-200);color:var(--gray-700);display:flex;align-items:center;height:48px;width:100%;font-weight:var(--fw-regular);padding-right:var(--spacing-xxl)}.dropdown-trigger:after{content:" ";background-image:url(chevron-down.fd75c987.svg);background-size:contain;background-repeat:no-repeat;background-position:50%;width:16px;position:absolute;right:var(--spacing-m);top:0;bottom:0}.dropdown-trigger:hover{background-color:var(--gray-100)}.dropdown-list{width:24em;display:none;background-color:var(--white);border:1px solid var(--gray-300);box-shadow:0 2px 4px rgba(0,0,0,.05);margin:0;overflow:hidden;padding-top:var(--base-spacing);padding-bottom:var(--base-spacing);text-align:left;min-width:100%}.dropdown-list__heading{padding:var(--spacing-s) var(--spacing-m) 0}.dropdown-list__item{border-radius:0;display:flex;align-items:center;padding:var(--spacing-m);font-weight:400}.dropdown-list__item .arrow-divider{color:var(--gray-500);padding:0 var(--spacing-s)}.bridge-dropdown .dropdown-list__item{height:40px}.account-dropdown .dropdown-list__item{justify-content:space-between;padding-top:var(--spacing-s);padding-bottom:var(--spacing-s)}.dropdown-list__item:hover{background-color:var(--gray-100)}.account-dropdown .dropdown-list__item:hover{background-color:initial}button.dropdown-list__item{border:none;background-color:initial;color:var(--gray-700);width:100%}.bridge-indicator{width:10px;height:10px;margin-right:var(--spacing-m)}.bridge-dropdown .testnet-options{border-top:1px solid var(--gray-200);margin-top:var(--spacing-s);padding-top:var(--spacing-s)}.dropdown-trigger img:last-child{margin-left:-4px}.dropdown.active .dropdown-list{display:block;position:absolute;border-radius:.5rem;margin-top:var(--spacing-s);z-index:1}.dropdown.active .dropdown-list.right{right:0}@media (min-width:928px){.topbar:before{position:fixed;top:0;bottom:0;right:0;left:0;content:" ";z-index:-1}}.landing{margin-bottom:140px}.landing-blurb{margin-top:var(--spacing-xxl);padding:0 var(--spacing-xl)}.panel{background-color:var(--white);border-radius:1em;box-shadow:0 51px 121px rgba(0,0,0,.05),0 21.3066px 50.5509px rgba(0,0,0,.0359427),0 11.3915px 27.0269px rgba(0,0,0,.0298054),0 6.38599px 15.1511px rgba(0,0,0,.025),0 3.39155px 8.04662px rgba(0,0,0,.0201946),0 1.4113px 3.34838px rgba(0,0,0,.0140573);margin:80px var(--spacing-m);padding:var(--spacing-m)}@media (min-width:928px){.landing{background:url(landing-bg-left.24f92058.svg) no-repeat,url(landing-bg-right.95130647.svg) no-repeat;background-position:top 22em left calc(50% - 22em),top 31em right calc(50% - 21em)}.panel{margin:80px auto}}.cta-container{margin-top:var(--spacing-xxl)}.create-account{font-size:var(--fs-micro)}.transfers{padding:5rem 0;width:100%;margin:0 auto 2em}.transfers__header{padding:0 5rem;margin:0 auto var(--spacing-xxl);text-align:center}.transfers__heading{font-size:var(--fs-heading-2)}.transfers__header .subheading{margin-bottom:0}.transfers__header .button--missing-transfer{margin-bottom:var(--spacing-s);font-size:var(--fs-small);font-weight:var(--fw-regular);text-decoration:underline}.transfers__wrapper .button-wrapper{padding:0 var(--spacing-m)}@media (min-width:600px){.transfers__wrapper .button-wrapper{padding:0}}.transfers__wrapper .button--new-transfer{margin-bottom:var(--spacing-m)}.transfer.in-progress{--color--transfer-header:var(--orange-300);--color--transfer-amount:var(--orange-800);--color--transfer-status:var(--orange-700);--color--transfer-actions--cta:var(--orange-600);--color--transfer-actions--delete:var(--orange-200);--color--transfer-actions--delete__icon:var(--orange-700);--color--accounts-container:var(--orange-100);--color--accounts-label:var(--orange-700);--color--accounts-divider:var(--orange-200);--color--footer:var(--orange-200);--color--footer-text:var(--orange-700);--color--footer-caret:var(--orange-500)}.transfer.completed{--color--transfer-header:var(--green-300);--color--transfer-amount:var(--green-800);--color--transfer-status:var(--green-700);--color--transfer-actions--cta:var(--green-600);--color--transfer-actions--delete:var(--green-200);--color--transfer-actions--delete__icon:var(--green-700);--color--accounts-container:var(--green-100);--color--accounts-label:var(--green-700);--color--accounts-divider:var(--green-200);--color--footer:var(--green-200);--color--footer-text:var(--green-600);--color--footer-caret:var(--green-500)}.transfer.failed{--color--transfer-header:var(--red-300);--color--transfer-amount:var(--red-800);--color--transfer-status:var(--red-700);--color--transfer-actions--cta:var(--red-600);--color--transfer-actions--delete:var(--red-200);--color--transfer-actions--delete__icon:var(--red-700);--color--accounts-container:var(--red-100);--color--accounts-label:var(--red-700);--color--accounts-divider:var(--red-200);--color--footer:var(--red-200);--color--footer-text:var(--red-600);--color--footer-caret:var(--red-500)}.transfer.action-needed{--color--transfer-header:var(--blue-300);--color--transfer-amount:var(--blue-800);--color--transfer-status:var(--blue-700);--color--transfer-actions--cta:var(--blue-500);--color--transfer-actions--delete:var(--blue-200);--color--transfer-actions--delete__icon:var(--blue-700);--color--accounts-container:var(--blue-100);--color--accounts-label:var(--blue-700);--color--accounts-divider:var(--blue-200);--color--footer:var(--blue-200);--color--footer-text:var(--blue-500);--color--footer-caret:var(--blue-500)}.transfer{overflow:hidden;margin-bottom:var(--spacing-m)}@media (min-width:600px){.transfer{border-radius:var(--br-small)}}.transfer__header{background-color:var(--color--transfer-header);display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-m)}.transfer__header .transfer__amount{color:var(--color--transfer-amount);font-size:var(--fs-heading-4);margin-bottom:var(--spacing-xs)}.transfer__status{color:var(--color--transfer-status);display:flex;align-items:center;font-size:var(--fs-micro)}.transfer__status .icon{margin-right:var(--spacing-s);background-size:contain;background-position:50%;width:var(--spacing-m);height:var(--spacing-m)}.transfer.failed>header .transfer__status .icon{background-image:url(alert-circle.f3c6f587.svg)}.transfer.completed>header .transfer__status .icon{background-image:url(completed.e9b7f9ed.svg)}.transfer.action-needed>header .transfer__status .icon:before{content:"â†’"}.transfer.in-progress>header .transfer__status .icon{margin-right:.8em;position:relative;width:.8em;height:.8em}.transfer.in-progress>header .transfer__status .icon:before{animation:spin 1.5s ease-in-out infinite;border-radius:50%;border:1px solid transparent;border-top:1px solid var(--color--transfer-status);content:" ";position:absolute;top:0;right:0;bottom:0;left:0}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.transfer__actions{display:flex;height:2.4em}.transfer__actions .button--cta{background-color:var(--color--transfer-actions--cta);color:#fff}.transfer__actions .button--delete{display:flex;align-items:center;justify-content:center;background-color:var(--color--transfer-actions--delete)!important;margin-left:var(--spacing-s);padding:0;width:var(--input-height--small)}.transfer__actions .button--delete svg path{stroke:var(--color--transfer-actions--delete__icon)}.transfer__accounts-container{background-color:var(--color--accounts-container);display:flex;flex-direction:column;font-size:var(--fs-small)}.transfer__account{border-top:1px solid var(--color--accounts-divider);display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-s) var(--spacing-m)}.transfer__account label{font-size:var(--fs-micro);padding:0;margin:0}.transfer__account .account-with-icon,.transfer__account label{color:var(--color--accounts-label)}.transfer__footer{position:relative;transition:height .2s;height:var(--input-height--small)}.transfer__footer button{color:var(--color--footer-text);text-align:center;border-radius:0;position:absolute;bottom:0;z-index:1;font-size:var(--fs-micro);background-color:var(--color--footer)}.transfer__footer button:before{display:inline-block;content:" ";height:.3em;width:.3em;border-bottom:2.5px solid var(--color--footer-caret);border-right:2.5px solid var(--color--footer-caret);border-left:2.5px solid transparent;border-top:2.5px solid transparent;transform:rotate(45deg);margin-right:.5em;position:relative;top:-.1em}.transfer__footer button span:before{content:"View "}.transfer__footer.open button span:before{content:"Hide "}.transfer__footer.open button:before{top:.1em;transform:rotate(225deg)}.transfer__details{background-color:var(--gray-800);color:var(--gray-500);list-style:none;margin:0;padding:1.5rem 1rem;position:absolute;width:100%}.transfer__details li{position:relative;margin-bottom:var(--spacing-m);font-size:var(--fs-micro)}.transfer__details li:last-child{padding-bottom:0}.transfer__details li span{display:flex}.transfer__details li span:before{content:"â€¢";width:1rem;height:1rem;background-repeat:no-repeat;background-size:contain;background-position:50%;margin-right:.5rem;text-align:center;font-size:var(--fs-heading-3);line-height:.7;z-index:1;flex-shrink:0}.transfer__details li p{color:var(--gray-500);background-color:var(--black);border-radius:4px;font-size:.9em;margin:1rem 0 0 1.5rem;padding:1rem}.transfer__details li.completed+li.pending span,.transfer__details li.pending:first-child span{color:#fff}.transfer__details li.completed+li.pending span:before,.transfer__details li.pending:first-child span:before{color:#2b9af4}.transfer__details li.failed span:before{background-image:url(alert-circle.f3c6f587.svg);content:" "}.transfer__details li.completed span:before{background-image:url(checkmark-48DBA7.28ab5a96.svg);content:" "}.transfer__details li:after{content:" ";width:1px;border-left:1px solid var(--gray-700);padding:var(--spacing-m) 0;position:absolute;top:var(--spacing-m);bottom:0;left:7px}@media (min-width:600px){.transfers{max-width:440px}}.landing{padding-bottom:1em}.confirm-delete{padding:3em;display:flex;text-align:center;flex-direction:column;justify-content:space-between}.confirm-delete>img{margin-left:40%;margin-right:40%}.confirm-delete>h4{font-weight:800;line-height:1.5;margin-top:2em;margin-bottom:1em}.confirm-delete button{margin-top:1.2em}.confirm-delete-buttons{margin:var(--spacing-xxl) 0 var(--spacing-m)}.confirm-delete-buttons :first-child{background-color:var(--red-500);color:var(--white)}.button--swap{background-color:var(--white);border-radius:50px;border:1px solid var(--gray-200);background-image:url(swap-vert.a8401589.svg);background-position:50%;background-repeat:no-repeat;background-size:1.3em;box-shadow:0 2px 4px rgba(0,0,0,.04);height:2em;width:3.5em;margin-top:1.4em}.network--ethereum{color:#627eea}.network--near{color:var(--black)}.network-indicator{margin-right:var(--spacing-s)}.connected-account{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;max-width:124px}.authenticated-accounts-input+.authenticated-account label:after{content:"Transfer from"}.authenticated-accounts-button+.authenticated-account label:after{content:"To"}.authenticated-account{font-size:var(--fs-small)}.authenticated-account__details{border:1px solid var(--gray-200);border-radius:var(--br-base);padding:var(--spacing-m);display:flex;flex-direction:row;height:64px;align-items:center}.authenticated-account__details>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin-right:var(--spacing-l);text-align:left}.authenticated-account label{margin-left:calc(1em + 1px);text-align:left}.new-transfer__container{display:flex;flex-direction:column;align-items:center;background-color:var(--gray-100);padding:var(--spacing-m)}@media (min-width:600px){.new-transfer__container{border-radius:var(--br-small)}}.new-transfer__container .authenticated-account__details{background-color:var(--white)}.new-transfer__container .authenticated-account{align-self:stretch;width:100%}.new-transfer__container .button--swap{margin:var(--spacing-m) 0 0}.restore{max-width:25em;margin:5rem auto 0;padding:1em}.restore header{text-align:center;margin-top:5em;margin-bottom:5em}.restore input{margin-top:.5em}.restore footer{margin-top:2em}.restore .errorMessage,.restore button{margin-top:1em}.restoredTransfer{overflow:hidden;margin:1rem auto;font-size:.75em;border-radius:10px}.restoredTransfer header{background-color:#ffdbb2;text-align:left;padding:.6rem 1rem;display:grid;grid-template-columns:auto auto;justify-content:space-between;align-items:center;grid-gap:1em;margin-bottom:0;margin-top:0}.restoredTransfer header h3{color:#452500}.restoredTransfer div{background-color:#fff6ed;color:#995200;padding:.7rem 1rem;display:grid;grid-gap:7rem;grid-template-columns:auto auto;justify-content:space-between;align-items:center}.restoredTransfer>div>:first-child{color:#e78513}</style>  <div style="display:flex;flex-direction:column;min-height:100vh;position:relative;"> <div data-behavior="unsupportedNetworkModal" class="modal" style="display:none"> <div class="modal__container"> <div class="modal-image__container"> </div> <h1 class="modal__heading">Incorrect Wallet Network</h1> <div data-behavior="modalMessage" class="modal__message"></div> <p class="modal__cta">Change your active wallet network to proceed.</p> </div> </div> <nav class="site-nav"> <div class="site-nav__wrapper"> <a class="navLogo" data-behavior="navLogo" href="index.html" title="Home"><span>Home</span></a> <div data-behavior="bridgesDropdown" class="bridges-nav"> <div id="bridge-dropdown" class="bridge-dropdown dropdown" aria-live="polite"> <button aria-controls="bridge-dropdown" class="dropdown-trigger"> <span class="bridge-indicator" style="background-color:#29b6af"> <span class="visually-hidden">Connected</span> </span> <span data-behavior="bridgeName"></span> </button> <div class="dropdown-list"> <label class="dropdown-list__heading">Select a bridge</label> <button aria-controls="bridge-dropdown" class="dropdown-list__item" onclick="location.href='https://ethereum.bridgetonear.org';"> <span class="bridge-indicator" style="background-color:#29b6af"> <span class="visually-hidden">Connected</span> </span> <span> NEAR Mainnet <span class="arrow-divider">â†”ï¸Ž</span> Ethereum Mainnet</span> </button> <div class="testnet-options"> <button aria-controls="bridge-dropdown" class="dropdown-list__item" onclick="location.href='https://ropsten.bridgetonear.org';"> <span class="bridge-indicator" style="background-color:#ff4a8d"> <span class="visually-hidden">Connected</span> </span> <span> NEAR Testnet <span class="arrow-divider">â†”ï¸Ž</span> Ethereum Ropsten </span> </button> </div> </div> </div> </div> </div> <div class="site-nav__wrapper"> <div data-behavior="accountsDropdown" class="accounts-nav" style="display:none"> <div id="accounts-dropdown" class="account-dropdown dropdown" aria-live="polite"> <button aria-controls="accounts-dropdown" class="dropdown-trigger"> <img data-behavior="ethConnected" style="width:1.5rem" alt="Ethereum" src="ethereum.f4172c37.svg"> <img style="width:1.5rem" alt="NEAR" src="near.0b26889d.svg"> </button> <div class="dropdown-list right"> <label class="dropdown-list__heading">Connected Accounts</label> <div data-behavior="ethConnected" class="dropdown-list__item"> <span class="account-with-icon ethereum reverse" data-behavior="ethUser"></span> <button class="button-size--small button-variant--secondary" data-behavior="disconnectEthereum"> Disconnect </button> </div> <div data-behavior="nearConnected" class="dropdown-list__item"> <span class="account-with-icon near reverse" data-behavior="nearUser"></span> <button class="button-size--small button-variant--secondary" data-behavior="disconnectNear"> Disconnect </button> </div> </div> </div> </div> </div> </nav> <div class="landing" data-behavior="landing"> <h1 class="title"> <img src="rainbow-bridge.e14f3fa2.svg" style="width:2.3em;display:inline;margin-top:2em"> <small> ETH <img alt="to and from" src="swap-lr.227be599.svg" style="display:inline;vertical-align:bottom"> NEAR </small> <div>Rainbow</div> <div>Bridge</div> </h1> <div class="content-wrapper"> <p class="landing-blurb"> Transfer tokens between Ethereum and NEAR! Connect a NEAR and Ethereum account to get started. </p> <form method="get" class="panel"> <input data-behavior="transferFrom" class="authenticated-accounts-input" name="erc20" type="hidden"><div class="authenticated-account" data-behavior="authenticatedAccount"> <label for="authEthereum"> </label> <div class="authenticated-account__details"> <img src="ethereum.f4172c37.svg" alt="" class="network--ethereum network-indicator"> <div data-behavior="ethAccountPlaceholder">Ethereum</div> <button type="button" class="button-size--small" id="authEthereum" data-behavior="authEthereum"> Connect </button> <button class="button-size--small button-variant--secondary" data-behavior="disconnectEthereum" style="display:none" type="button"> Disconnect </button> </div> </div><div class="authenticated-accounts-button"> <button type="button" class="button--swap" data-behavior="swapAccounts"> <span class="visually-hidden">swap</span> </button> </div><div class="authenticated-account" data-behavior="authenticatedAccount"> <label for="authNear"> </label> <div class="authenticated-account__details"> <img src="near.0b26889d.svg" alt="" class="network--near network-indicator"> <div data-behavior="nearAccountPlaceholder">NEAR</div> <button type="button" class="button-size--small" id="authNear" data-behavior="authNear"> Connect </button> <button class="button-size--small button-variant--secondary" data-behavior="disconnectNear" style="display:none" type="button"> Disconnect </button> </div> </div> <div class="cta-container"> <p class="create-account"> Need a NEAR account? Create one <a href="https://faucet.paras.id/">here</a>. </p> <button data-behavior="landingSubmit" class="full-width"> Begin new transfer </button> </div> </form> </div> </div> <div class="transfers" data-behavior="recent-transfers" style="display:none"> <header class="transfers__header"> <h1 class="transfers__heading">Your Transfers</h1> <p class="subheading">Manage your transfers below or begin a new one.</p> <button class="button--missing-transfer link" data-behavior="newRecovery"> Missing a transfer? </button> </header> <div class="transfers__wrapper"> <div class="button-wrapper"> <button class="button--new-transfer button-variant--secondary full-width" data-behavior="newTransfer"> + New Transfer </button> </div> <div data-behavior="transfers-container"></div> </div> <p style="margin-top:2em;font-size:small;text-align:center"> Need help? Join our <a href="https://t.me/rainbowbridgesupport"> support telegram channel</a>. </p> <div data-behavior="deleteModal" class="modal" style="display:none"> <div class="modal__container"> <div class="modal-image__container"> <img src="delete-pink.f1035532.svg" alt=""> </div> <h1 class="modal__heading">Remove transfer from list?</h1> <p class="modal__message"> Deleted transfers can be restored using the initiating transaction hash/ID. </p> <div class="confirm-delete-buttons"> <button data-behavior="confirmDelete" class="full-width"> Remove Transfer </button> <button data-behavior="closeModal" class="cancel full-width"> Cancel </button> </div> </div> </div>   </div> <form method="get" class="transfer-form" data-behavior="newTransferForm" style="display:none"> <header> <h2>New Transfer</h2> <p>Confirm your transfer's origin and destination.</p> </header> <div class="new-transfer__container"> <input data-behavior="transferFrom" class="authenticated-accounts-input" name="erc20" type="hidden"><div class="authenticated-account" data-behavior="authenticatedAccount"> <label for="authEthereum"> </label> <div class="authenticated-account__details"> <img src="ethereum.f4172c37.svg" alt="" class="network--ethereum network-indicator"> <div data-behavior="ethAccountPlaceholder">Ethereum</div> <button type="button" class="button-size--small" id="authEthereum" data-behavior="authEthereum"> Connect </button> <button class="button-size--small button-variant--secondary" data-behavior="disconnectEthereum" style="display:none" type="button"> Disconnect </button> </div> </div><div class="authenticated-accounts-button"> <button type="button" class="button--swap" data-behavior="swapAccounts"> <span class="visually-hidden">swap</span> </button> </div><div class="authenticated-account" data-behavior="authenticatedAccount"> <label for="authNear"> </label> <div class="authenticated-account__details"> <img src="near.0b26889d.svg" alt="" class="network--near network-indicator"> <div data-behavior="nearAccountPlaceholder">NEAR</div> <button type="button" class="button-size--small" id="authNear" data-behavior="authNear"> Connect </button> <button class="button-size--small button-variant--secondary" data-behavior="disconnectNear" style="display:none" type="button"> Disconnect </button> </div> </div> </div> <footer> <button>Continue</button> <button type="button" class="cancel" data-behavior="goHome">Cancel</button> </footer> </form> <div data-behavior="sendNaturalErc20" style="display:none"> <form data-behavior="sendNaturalErc20Form" class="transfer-form"> <header> <h2>New Transfer</h2> <p>Select a token and enter an amount to transfer.</p> </header> <div class="account account--origin"> <header> <strong>Transfer from</strong> <span class="account-tag account-with-icon ethereum" data-behavior="ethUser"></span> </header> <div class="inputs"> <input type="hidden" name="erc20" data-behavior="erc20Address"> <button type="button" data-behavior="erc20SelectButton"> Select ERC20 </button> <input autocomplete="off" data-behavior="erc20Amount" disabled placeholder="0" type="number"> </div> <div class="account--origin__token-details" data-behavior="erc20Info"> <label>Available to transfer</label> <span> <span data-behavior="erc20Balance" c="">999.234234</span> <span data-behavior="erc20Name">DAI</span> </span> </div> <div class="account--origin__token-details allowance" data-behavior="erc20Info"> <label>Available allowance</label> <span> <span data-behavior="erc20Allowance"></span> <span data-behavior="erc20Name"></span> </span> </div> </div> <div class="arrow"></div> <div class="account account--destination"> <header> <strong>To</strong> <span class="account-tag account-with-icon near" data-behavior="nearUser"></span> </header> <div class="account--destination__token-details" data-behavior="erc20Info"> <label>Receive as</label> <strong data-behavior="nep141Name"></strong> </div> <div class="account--destination__token-details" data-behavior="erc20Info"> <label>Current balance</label> <strong> <span data-behavior="nep141Balance"></span> <span data-behavior="nep141Name"></span> </strong> </div> </div> <footer> <p data-behavior="signInstruction" style="display:none"> Please confirm the transaction in your connected Ethereum wallet... </p> <button disabled data-behavior="erc20Submit" class="full-width"> Approve transfer </button> <button id="erc20Cancel" type="button" class="cancel" data-behavior="goHome"> Cancel </button> </footer> </form> <div data-behavior="erc20Modal" class="modal" style="display:none"> <div class="modal__container token-selector"> <nav class="modal__nav"> <button type="button" class="modal__nav__button--close" data-behavior="closeModal"> <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18M6 6l12 12" stroke="#A2A2A8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg> <span class="visually-hidden">close</span> </button> </nav> <form method="get"> <h2 class="modal-section__label">Enter a token address</h2> <label for="erc20" class="visually-hidden">ERC20 Address</label> <input data-behavior="erc20FreeForm" name="erc20" id="erc20" placeholder="0x89d24A6b4C..." autocomplete="off"> <div data-behavior="erc20AddressError" class="errorMessage"></div> </form> <div class="modal-section__separator">or</div> <form method="get"> <header class="token-selector-section__header"> <h2 class="modal-section__label">Select from whitelist</h2> <div class="space-between"> <span>Token name</span> <span>Available balance</span> </div> </header> <div class="token-list" data-behavior="erc20List"></div> </form> </div> </div> </div> <div data-behavior="sendBridgedNep141" style="display:none"> <form data-behavior="sendBridgedNep141Form" class="transfer-form"> <header> <h2>New Transfer</h2> <p>Select a token and enter an amount to transfer.</p> </header> <div class="account account--origin"> <header> <strong>Transfer from</strong> <span class="account-tag account-with-icon near" data-behavior="nearUser"></span> </header> <div class="inputs"> <input type="hidden" name="erc20n" data-behavior="erc20nAddress"> <button type="button" data-behavior="erc20nSelectButton"> Select token </button> <input autocomplete="off" data-behavior="erc20nAmount" disabled placeholder="0" type="number"> </div> <div class="account--origin__token-details" data-behavior="erc20nInfo"> <label>Available to transfer</label> <span> <span data-behavior="erc20nBalance"></span> <span data-behavior="erc20nName"></span> </span> </div> </div> <div class="arrow"></div> <div class="account account--destination"> <header> <strong>To</strong> <span class="account-tag account-with-icon ethereum" data-behavior="ethUser"></span> </header> <div class="account--destination__token-details" data-behavior="erc20nInfo"> <label>Receive as</label> <strong data-behavior="erc20Name"></strong> </div> <div class="account--destination__token-details" data-behavior="erc20nInfo"> <label>Current balance</label> <strong> <span data-behavior="erc20Balance"></span> <span data-behavior="erc20Name"></span> </strong> </div> </div> <footer> <p data-behavior="signInstruction" style="display:none"> Redirecting to NEAR wallet... </p> <button disabled data-behavior="erc20nSubmit" class="full-width"> Submit transfer </button> <button id="erc20nCancel" type="button" class="cancel" data-behavior="goHome"> Cancel </button> </footer> </form> <div data-behavior="erc20nModal" class="modal" style="display:none"> <div class="modal__container token-selector"> <nav class="modal__nav"> <button type="button" class="modal__nav__button--close" data-behavior="closeModal"> <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18M6 6l12 12" stroke="#A2A2A8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg> <span class="visually-hidden">close</span> </button> </nav> <form method="get"> <h2 class="modal-section__label">Enter a token address</h2> <label for="erc20n" class="visually-hidden">ERC20 Address</label> <input data-behavior="erc20nFreeForm" name="erc20n" id="erc20n" placeholder="0x89d24A6b4C..." autocomplete="off"> <div data-behavior="erc20nAddressError" class="errorMessage"></div> </form> <div class="modal-section__separator"> <div>or</div> </div> <form method="get"> <header> <h2 class="modal-section__label">Select from whitelist</h2> <div class="space-between" style="font-size:.75em;margin-bottom:.5em"> <span>Token name</span> <span>Available balance</span> </div> </header> <div class="token-list" data-behavior="erc20nList"></div> </form> </div> </div> </div> <form data-behavior="bridgeErc20Form" class="container" style="display:none"> <h1 style="background:url(unbridged.b9e94834.svg) top no-repeat;font-size:1.5em;padding:12rem 0 2.5rem"> Token not yet bridged </h1> <p> The <strong data-behavior="erc20Name"></strong> <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow">ERC20</a> token has not yet been bridged. </p> <p> The <a href="https://github.com/near/rainbow-token-connector" target="_blank">Fungible Token Connector</a> allows sending any ERC20 token to NEAR, but requires an initial one-time deploy of a "BridgeToken" <a href="https://docs.near.org/docs/roles/developer/contracts/intro#get-started" target="_blank">smart contract</a>. </p> <button style="margin-top:3em"> Bridge it! </button> <button type="button" class="cancel" data-behavior="bridgeErc20Cancel"> Cancel </button> <p style="font-size:.75em;margin-top:2em"> Deploying a new "Bridge Token" smart contract requires ~3 NEAR to cover <a href="https://docs.near.org/docs/concepts/storage" target="_blank">storage fees</a>. </p> </form> <div class="restore" data-behavior="restore" style="display:none"> <div data-behavior="locateTransfer"> <header> <h2>Restore transfer</h2> <p> Restore a bridge transfer by providing it's initiating transaction ID from Near or Ethereum. </p> </header> <form method="get" class="restore-form" data-behavior="restoreForm"> <label for="txHashInput">Transaction hash</label> <input id="txHashInput" data-behavior="txHashInput" placeholder="0x89d24A6b4C.../4vcWEVTeg5C" autocomplete="off"> <div data-behavior="txHashError" class="errorMessage"></div> <footer> <button class="full-width" data-behavior="restoreSubmit" disabled> Locate transfer </button> <button type="button" class="cancel" data-behavior="cancelRestore"> Cancel </button> </footer> </form> </div> <div data-behavior="transferFound" style="display:none"> <header> <h2>Transfer found!</h2> <p> The following bridge transfer was found and is ready to be restored. </p> </header> <div data-behavior="restoredTransferContainer"></div> <footer> <button class="full-width" data-behavior="confirmRestore"> Restore transfer </button> <button type="button" class="cancel" data-behavior="cancelRestore"> Cancel </button> </footer> </div> </div><script>async function n(){window.ethInitialized&&(window.dom.hide("unsupportedNetworkModal"),document.body.style.overflow="scroll",window.isValidEthNetwork||(document.body.style.overflow="hidden",window.dom.fill("modalMessage").with({innerHTML:"The NEAR Testnet â†”ï¸Ž ".concat("ropsten"," bridge requires an Ethereum wallet connected to ").concat("ropsten",".")}),window.dom.show("unsupportedNetworkModal")))}async function e(){if(!window.ethInitialized||!window.nearInitialized)return;const n=await window.transfers.get(),e=Object.keys(window.urlParams.get());n.length||e.length?window.dom.show("navLogo"):window.dom.hide("navLogo")}function o(){window.ethInitialized?window.dom.show("ethConnected"):window.dom.hide("ethConnected"),window.nearInitialized?window.dom.show("nearConnected"):window.dom.hide("nearConnected"),window.ethInitialized||window.nearInitialized?window.dom.show("accountsDropdown"):window.dom.hide("accountsDropdown")}async function d(){if(!window.ethInitialized||!window.nearInitialized)return void(window.dom.find("landingSubmit").disabled=!0);window.dom.find("landingSubmit").disabled=!1;const n=await window.transfers.get(),e=Object.keys(window.urlParams.get());n.length||e.length?window.dom.hide("landing"):window.dom.show("landing")}window.renderers=[],window.state={},window.renderers.push(n),window.addEventListener("load",function(){document.querySelectorAll(".dropdown").forEach(n=>{document.querySelector("body").addEventListener("click",e=>{const o=n.querySelector("button").contains(e.target),d=n.contains(e.target),i=Array.from(n.classList);i.includes("active")?!o&&d||(n.className=i.filter(n=>"active"!==n).join(" ")):o&&(n.className=[...i,"active"].join(" "))})})}),window.addEventListener("load",function(){window.dom.fill("bridgeName").with({innerHTML:window.bridgeName,title:window.bridgeName}),document.querySelectorAll(".dropdown-trigger > .bridge-indicator")[0].style.backgroundColor="#ff4a8d"}),window.renderers.push(e),window.renderers.push(o),window.addEventListener("load",function(){window.state.authenticatedAccountsInitialized||(window.dom.onClick("swapAccounts",function(n){let{target:e}=n;window.dom.findAll("transferFrom").forEach(n=>{n.name="erc20"===n.name?"erc20n":"erc20"});const o=e.closest("div").previousElementSibling,d=e.closest("div").nextElementSibling;fromInner=o.innerHTML,toInner=d.innerHTML,o.innerHTML=toInner,d.innerHTML=fromInner}),window.state.authenticatedAccountsInitialized=!0)}),window.renderers.push(()=>{window.ethInitialized?(window.dom.hide("authEthereum"),window.dom.show("disconnectEthereum"),window.dom.fill("ethAccountPlaceholder").with('<span class="connected-account" title="'.concat(window.ethUserAddress,'">').concat(window.ethUserAddress,"</span>"))):(window.dom.show("authEthereum"),window.dom.hide("disconnectEthereum")),window.nearInitialized?(window.dom.hide("authNear"),window.dom.show("disconnectNear"),window.dom.fill("nearAccountPlaceholder").with('<span class="connected-account" title="'.concat(window.nearUserAddress,'">').concat(window.nearUserAddress,"</span>"))):(window.dom.show("authNear"),window.dom.hide("disconnectNear"))}),window.renderers.push(d),window.addEventListener("load",function(){window.dom.onClick("newTransfer",function(){window.urlParams.set({new:"transfer"}),window.render()}),window.dom.onClick("newRecovery",function(){window.urlParams.set({new:"restore"}),window.render()}),document.querySelector("body").addEventListener("click",async n=>{const e=n.target.closest("[data-behavior=transferCallToAction]");if(!e)return;const o=e.closest("[data-behavior=transfer]").id;e.disabled=!0;try{await window.transfers.act(o)}catch(d){console.error(d)}finally{e.disabled=!1}}),document.querySelector("body").addEventListener("click",n=>{const e=n.target.closest("[data-behavior=openTransferDetails]");if(!e)return;const o=e.closest("[data-behavior=transfer]").id,d=e.closest("footer");i[o]=!i[o],d.classList.toggle("open"),a()}),document.querySelector("body").addEventListener("click",n=>{const e=n.target.closest("[data-behavior=deleteTransfer]");if(!e)return;window.dom.show("deleteModal");const o=e.closest("[data-behavior=transfer]").id;window.dom.find("confirmDelete").onclick=(()=>{window.transfers.remove(o),window.dom.hide("deleteModal"),document.getElementById(o).remove()})})});const i={};function r(n,e){let{inProgress:o}=e;return n=window.transfers.decorate(n,{locale:"en_US"}),'\n    <div\n      class="transfer '.concat(n.status,'"\n      id="').concat(n.id,'"\n      data-behavior="transfer"\n    >\n      <header class="transfer__header">\n        <div>\n          <h3 class="transfer__amount">').concat(window.utils.formatLargeNum(n.amount,n.decimals)," ").concat(n.sourceTokenName,'</h3>\n          <div class="transfer__status">\n            <span class="icon"></span>\n            <span>').concat(n.statusMessage,'</span>\n          </div>\n        </div>\n        <div class="transfer__actions">\n          ').concat(window.dom.toString(n.callToAction&&'<button class="button--cta button-size--small" data-behavior="transferCallToAction">'.concat(n.callToAction,"</button>")),"\n          ").concat(window.dom.toString("completed"===n.status&&'<button class="button--delete button-size--small" data-behavior="deleteTransfer"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M2 4H3.33333H14" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M5.3335 4.00004V2.66671C5.3335 2.31309 5.47397 1.97395 5.72402 1.7239C5.97407 1.47385 6.31321 1.33337 6.66683 1.33337H9.3335C9.68712 1.33337 10.0263 1.47385 10.2763 1.7239C10.5264 1.97395 10.6668 2.31309 10.6668 2.66671V4.00004M12.6668 4.00004V13.3334C12.6668 13.687 12.5264 14.0261 12.2763 14.2762C12.0263 14.5262 11.6871 14.6667 11.3335 14.6667H4.66683C4.31321 14.6667 3.97407 14.5262 3.72402 14.2762C3.47397 14.0261 3.3335 13.687 3.3335 13.3334V4.00004H12.6668Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M6.6665 7.33337V11.3334" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M9.3335 7.33337V11.3334" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg></button>'),'\n        </div>\n      </header>\n      <div class="transfer__accounts-container">\n        <div class="transfer__account">\n          <label>From</label>\n          <div class="account-with-icon ').concat(n.sourceNetwork,'" title="').concat(n.sender,'">\n                  ').concat(n.sender,'\n          </div>\n        </div>\n        <div class="transfer__account">\n          <label>To</label>\n          <div class="account-with-icon ').concat(n.destinationNetwork,'" title="').concat(n.recipient,'">\n            ').concat(n.recipient,'\n          </div>\n      </div>\n      </div>\n\n      <footer class="transfer__footer ').concat(i[n.id]||"completed"!==n.status?"open":"",'">\n        <ol class="transfer__details">').concat(n.steps.map(e=>'<li class="'.concat(e.status,'">\n            <span>').concat(e.description,"</span>\n            ").concat(window.dom.toString("failed"===e.status&&'<p class="error">'.concat(n.error,"</p>")),"\n          </li>")).join(""),'</ol>\n        <button class="full-width button-size--small" data-behavior="openTransferDetails">\n          <span>details</span>\n        </button>\n      </footer>\n    </div>\n  ')}async function t(){if(!window.ethInitialized||!window.nearInitialized)return;if(!window.isValidEthNetwork)return;const n=await window.transfers.get();n.length?window.dom.show("recent-transfers"):window.dom.hide("recent-transfers"),window.dom.fill("transfers-container").with([...n.map(n=>r(n,{inProgress:!0}))]),a()}function a(){window.dom.findAll("transfer").map(n=>{const e=n.querySelector("footer"),o=e.querySelector("button").getBoundingClientRect().height,d=e.querySelector("ol").getBoundingClientRect().height;e.style.height=e.classList.contains("open")?"".concat(o+d,"px"):"".concat(o,"px")})}async function w(){if(!window.ethInitialized||!window.nearInitialized)return;const n=await window.transfers.get(),e=Object.keys(window.urlParams.get());n.length&&!e.length?window.dom.show("recent-transfers"):window.dom.hide("recent-transfers")}function s(){window.ethInitialized&&window.nearInitialized&&("transfer"===window.urlParams.get("new")?(window.dom.show("newTransferForm"),window.scrollTo({top:0})):window.dom.hide("newTransferForm"))}function c(n,e){return"0"===n.balance&&"0"!==e.balance?1:"0"!==n.balance&&"0"===e.balance?-1:0}async function l(){if(!window.ethInitialized)return;if(!window.isValidEthNetwork)return;if(null===window.urlParams.get("erc20"))return;const n=await window.utils.getAllErc20s();window.dom.fill("erc20List").with(Object.values(n).sort(c).map(n=>'\n        <label class="space-between">\n          <input\n            type="radio"\n            name="erc20"\n            data-behavior="featuredErc20Option"\n            value="'.concat(n.address,'"\n          />\n          <span>\n            <img src="').concat(n.icon||"ethereum.svg",'" alt="" />\n            ').concat(n.name,"\n          </span>\n          <span>\n            ").concat(window.utils.formatLargeNum(n.balance,n.decimals),"\n          </span>\n        </label>\n      ")))}let m,u;async function f(){if(!window.ethInitialized||!window.nearInitialized)return;if(!window.isValidEthNetwork)return;if(window.urlParams.get("erc20")===m)return;if(m=window.urlParams.get("erc20"),null===window.urlParams.get("erc20")){window.dom.hide("sendNaturalErc20"),window.dom.hide("erc20AddressError"),window.dom.find("erc20FreeForm").classList.remove("error"),window.dom.find("erc20FreeForm").value="",window.dom.find("erc20Amount").value="";const n=window.dom.find("erc20Submit");return n.disabled=!0,void(n.innerHTML="Approve transfer")}const n=window.dom.find("erc20Amount");if(!m)return n.disabled=!0,window.dom.find("erc20SelectButton").classList.remove("selected"),window.dom.fill("erc20SelectButton").with("Select ERC20"),window.dom.hide("erc20Info"),void window.dom.show("sendNaturalErc20");let e;window.dom.find("erc20Address").value=m;try{e=await window.utils.getErc20Data(m)}catch(o){window.dom.find("erc20SelectButton").classList.remove("selected"),window.dom.fill("erc20SelectButton").with("Select ERC20"),window.dom.find("erc20Amount").value="",window.dom.find("erc20Amount").disabled=!0;const n=window.dom.find("erc20FreeForm");return n.classList.add("error"),n.value=m,window.dom.find("erc20FreeForm").classList.add("error"),console.error(o),window.dom.fill("erc20AddressError").with("Invalid ERC20 token contract"),window.dom.show("erc20AddressError"),void window.dom.show("sendNaturalErc20")}window.utils.rememberCustomErc20(m),null!==e.nep141.balance?(window.dom.show("sendNaturalErc20"),window.dom.find("erc20Amount").disabled=!1,window.dom.find("erc20SelectButton").classList.add("selected"),window.dom.fill("erc20SelectButton").with(e.name),window.dom.find("erc20FreeForm").classList.remove("error"),window.dom.find("erc20FreeForm").value="",window.dom.hide("erc20AddressError"),window.dom.fill("erc20Name").with(e.name),window.dom.hide("erc20Modal"),window.dom.fill("erc20Balance").with(window.utils.formatLargeNum(e.balance,e.decimals)),window.dom.fill("erc20Allowance").with(window.utils.formatLargeNum(e.allowance,e.decimals)),window.dom.fill("nep141Name").with(e.nep141.name),window.dom.fill("nep141Balance").with(window.utils.formatLargeNum(e.nep141.balance,e.decimals)),e.balance?n.disabled=!1:n.disabled=!0,n.step=Number(Decimal(10).pow(-e.decimals).toFixed()),n.max=Number(new window.Decimal(e.balance).times(Decimal(10).pow(-e.decimals)).toFixed()),n.min=Number(Decimal(10).pow(-e.decimals).toFixed()),window.dom.show("erc20Info","flex"),n.focus()):window.dom.hide("sendNaturalErc20")}function h(n,e){return"0"===n.nep141.balance&&"0"!==e.nep141.balance?1:"0"!==n.nep141.balance&&"0"===e.nep141.balance?-1:0}async function p(){if(!window.ethInitialized)return;if(!window.isValidEthNetwork)return;if(null===window.urlParams.get("erc20n"))return;const n=await window.utils.getAllErc20s();window.dom.fill("erc20nList").with(Object.values(n).sort(h).map(n=>'\n        <label class="space-between">\n          <input\n            type="radio"\n            name="erc20n"\n            data-behavior="featuredErc20nOption"\n            value="'.concat(n.address,'"\n          />\n          <span>\n            <img src="').concat(n.nep141.icon||"near.svg",'" alt="" />\n            ').concat(n.nep141.name,"\n          </span>\n          <span>\n            ").concat(window.utils.formatLargeNum(n.nep141.balance,n.decimals),"\n          </span>\n        </label>\n      ")))}async function b(){if(!window.ethInitialized||!window.nearInitialized)return;if(!window.isValidEthNetwork)return;if(window.urlParams.get("erc20n")===u)return;if(u=window.urlParams.get("erc20n"),null===window.urlParams.get("erc20n"))return window.dom.hide("sendBridgedNep141"),window.dom.hide("erc20nAddressError"),window.dom.find("erc20nFreeForm").classList.remove("error"),window.dom.find("erc20nFreeForm").value="",window.dom.find("erc20nAmount").value="",void(window.dom.find("erc20nSubmit").disabled=!0);const n=window.dom.find("erc20nAmount");if(!u)return n.disabled=!0,window.dom.find("erc20nSelectButton").classList.remove("selected"),window.dom.fill("erc20nSelectButton").with("Select token"),window.dom.hide("erc20nInfo"),void window.dom.show("sendBridgedNep141");let e;try{e=await window.utils.getErc20Data(u)}catch(o){window.dom.find("erc20nSelectButton").classList.remove("selected"),window.dom.fill("erc20nSelectButton").with("Select ERC20"),window.dom.find("erc20nAmount").value="",window.dom.find("erc20nAmount").disabled=!0;const n=window.dom.find("erc20nFreeForm");return n.classList.add("error"),n.value=u,window.dom.find("erc20nFreeForm").classList.add("error"),console.error(o),window.dom.fill("erc20nAddressError").with("Invalid ERC20 token contract"),window.dom.show("erc20nAddressError"),void window.dom.show("sendBridgedNep141")}window.utils.rememberCustomErc20(u),null!==e.nep141.balance?(window.dom.find("erc20nSelectButton").classList.add("selected"),window.dom.fill("erc20nSelectButton").with(e.nep141.name),window.dom.find("erc20nFreeForm").classList.remove("error"),window.dom.find("erc20nFreeForm").value="",window.dom.hide("erc20nAddressError"),window.dom.fill("erc20Name").with(e.name),window.dom.hide("erc20nModal"),window.dom.fill("erc20nName").with(e.nep141.name),window.dom.fill("erc20nBalance").with(window.utils.formatLargeNum(e.nep141.balance,e.decimals)),window.dom.fill("erc20Balance").with(window.utils.formatLargeNum(e.balance,e.decimals)),window.dom.show("sendBridgedNep141"),e.nep141.balance?n.disabled=!1:n.disabled=!0,n.step=Number(Decimal(10).pow(-e.decimals).toFixed()),n.max=Number(new window.Decimal(e.nep141.balance).times(Decimal(10).pow(-e.decimals)).toFixed()),n.min=Number(Decimal(10).pow(-e.decimals).toFixed()),window.dom.show("erc20nInfo","flex"),n.focus()):window.dom.hide("sendBridgedNep141")}async function v(){if(!window.ethInitialized||!window.nearInitialized)return;if(!window.isValidEthNetwork)return;const{erc20:n,erc20n:e}=window.urlParams.get("erc20","erc20n"),o=n||e;if(!o)return void window.dom.hide("bridgeErc20Form");let d;try{d=await window.utils.getErc20Data(o)}catch(i){return void window.dom.hide("bridgeErc20Form")}null===d.nep141.balance?(window.dom.fill("erc20Name").with(d.name),window.dom.show("bridgeErc20Form")):window.dom.hide("bridgeErc20Form")}function g(n,e){let{inProgress:o}=e;return n=window.transfers.decorate(n,{locale:"en_US"}),'\n    <div class="restoredTransfer">\n      <header>\n        <h3>'.concat(window.utils.formatLargeNum(n.amount,n.decimals)," ").concat(n.sourceTokenName,'</h3>\n      </header>\n      <div>\n        <span>From</span>\n        <span class="account-with-icon ').concat(n.sourceNetwork,'" title="').concat(n.sender,'">\n          ').concat(n.sender,'\n        </span>\n      </div>\n      <div>\n        <span>To</span>\n        <span class="account-with-icon ').concat(n.destinationNetwork,'" title="').concat(n.recipient,'">\n          ').concat(n.recipient,"\n        </span>\n      </div>\n    </div>\n  ")}function E(){window.ethInitialized&&window.nearInitialized&&("restore"===window.urlParams.get("new")?window.dom.show("restore"):window.dom.hide("restore"))}window.renderers.push(t),window.renderers.push(w),window.addEventListener("load",function(){window.state.authenticatedAccountsInitialized||(window.dom.onClick("swapAccounts",function(n){let{target:e}=n;window.dom.findAll("transferFrom").forEach(n=>{n.name="erc20"===n.name?"erc20n":"erc20"});const o=e.closest("div").previousElementSibling,d=e.closest("div").nextElementSibling;fromInner=o.innerHTML,toInner=d.innerHTML,o.innerHTML=toInner,d.innerHTML=fromInner}),window.state.authenticatedAccountsInitialized=!0)}),window.renderers.push(()=>{window.ethInitialized?(window.dom.hide("authEthereum"),window.dom.show("disconnectEthereum"),window.dom.fill("ethAccountPlaceholder").with('<span class="connected-account" title="'.concat(window.ethUserAddress,'">').concat(window.ethUserAddress,"</span>"))):(window.dom.show("authEthereum"),window.dom.hide("disconnectEthereum")),window.nearInitialized?(window.dom.hide("authNear"),window.dom.show("disconnectNear"),window.dom.fill("nearAccountPlaceholder").with('<span class="connected-account" title="'.concat(window.nearUserAddress,'">').concat(window.nearUserAddress,"</span>"))):(window.dom.show("authNear"),window.dom.hide("disconnectNear"))}),window.renderers.push(s),window.addEventListener("load",function(){const n=window.dom.find("erc20Amount"),e=window.dom.find("erc20SelectButton"),o=window.dom.find("erc20Submit"),d=document.getElementById("erc20Cancel");e.onclick=(()=>window.dom.show("erc20Modal")),n.onkeyup=function(n){const e=Number(window.dom.find("erc20Balance").innerHTML),d=Number(window.dom.find("erc20Allowance").innerHTML),i=n.target.value;i&&Number(i)<=e&&Number(i)>0?o.disabled=!1:o.disabled=!0,Number(n.target.value)<=d?o.innerHTML="Submit transfer":o.innerHTML="Approve transfer"},window.dom.find("sendNaturalErc20Form").onsubmit=async function(i){i.preventDefault(),n.disabled=!0,e.disabled=!0,o.disabled=!0,d.disabled=!0,window.dom.show("signInstruction");try{await window.nep141Xerc20.naturalErc20.sendToNear({amount:n.value,erc20Address:window.dom.find("erc20Address").value,sender:window.ethUserAddress,recipient:window.nearUserAddress})}catch(i){throw alert("Something went wrong!\n"+i.message),i}finally{n.disabled=!1,e.disabled=!1,o.disabled=!1,d.disabled=!1,window.dom.hide("signInstruction")}n.value="",window.urlParams.clear("erc20"),window.render()},window.dom.onClick("featuredErc20Option",n=>{let{target:e}=n;window.urlParams.set({erc20:e.value}),window.dom.hide("erc20Modal"),window.render()})}),window.renderers.push(l),window.renderers.push(f),window.addEventListener("load",function(){const n=window.dom.find("erc20nAmount"),e=window.dom.find("erc20nSelectButton"),o=window.dom.find("erc20nSubmit"),d=document.getElementById("erc20nCancel");e.onclick=(()=>window.dom.show("erc20nModal")),n.onkeyup=function(n){const e=Number(window.dom.find("erc20nBalance").innerHTML),d=n.target.value;d&&Number(d)<=e&&Number(d)>0?o.disabled=!1:o.disabled=!0},window.dom.find("sendBridgedNep141Form").onsubmit=async function(i){i.preventDefault(),n.disabled=!0,e.disabled=!0,o.disabled=!0,d.disabled=!0,window.dom.show("signInstruction");try{await window.nep141Xerc20.bridgedNep141.sendToEthereum({amount:n.value,erc20Address:window.urlParams.get("erc20n"),sender:window.nearUserAddress,recipient:window.ethUserAddress})}catch(i){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),i}finally{n.disabled=!1,e.disabled=!1,o.disabled=!1,d.disabled=!1,window.dom.hide("signInstruction")}n.value="",window.urlParams.clear("erc20n"),window.render()},window.dom.onClick("featuredErc20nOption",n=>{let{target:e}=n;window.urlParams.set({erc20n:e.value}),window.dom.hide("erc20nModal"),window.render()})}),window.renderers.push(p),window.renderers.push(b),window.addEventListener("load",function(){window.dom.find("bridgeErc20Form").onsubmit=function(n){n.preventDefault(),window.nep141Xerc20.bridgedNep141.deploy(window.urlParams.get("erc20"))},window.dom.find("bridgeErc20Cancel").onclick=(()=>{window.dom.hide("bridgeErc20Form"),window.urlParams.clear(),window.render()})}),window.renderers.push(v),window.addEventListener("load",function(){let n;const e=window.dom.find("txHashInput"),o=window.dom.find("restoreSubmit");e.onkeyup=function(n){n.target.value.length>0?o.disabled=!1:o.disabled=!0},window.dom.find("restoreForm").onsubmit=async function(o){o.preventDefault();try{n=/^(0x)?[0-9a-f]{64}$/i.test(e.value)?await window.nep141Xerc20.naturalErc20.recover(e.value):await window.nep141Xerc20.bridgedNep141.recover(e.value),console.log(n),e.value="",window.dom.fill("txHashError").with(""),window.dom.find("erc20FreeForm").classList.remove("error"),window.dom.hide("locateTransfer"),window.dom.show("transferFound"),window.dom.fill("restoredTransferContainer").with(g(n,{inProgress:!0}))}catch(o){console.error(o),e.classList.add("error"),window.dom.fill("txHashError").with("Failed to locate transfer. Please double check your transaction ID")}},window.dom.find("confirmRestore").onclick=async function(){window.transfers.track(n),window.urlParams.clear("new"),window.render(),window.dom.show("locateTransfer"),window.dom.hide("transferFound")},window.dom.findAll("cancelRestore").map(n=>n.onclick=async function(){const n=window.dom.find("txHashInput");n.value="",n.classList.remove("error"),window.dom.fill("txHashError").with(""),o.disabled=!0,window.urlParams.clear("new"),window.render(),window.dom.show("locateTransfer"),window.dom.hide("transferFound")})}),window.renderers.push(E);</script> </div> <script src="js.c7190aff.js"></script> </body></html>