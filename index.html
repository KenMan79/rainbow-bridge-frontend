<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bridge Ethereum to NEAR and back again</title><meta property="og:title" content="ðŸŒˆ Rainbow Bridge ðŸŒˆ"><meta property="og:description" content="Bridge Ethereum to NEAR and back again"><meta property="og:image" content="rainbow-black.2b7b2946.gif"><meta name="twitter:card" content="summary_large_image"><link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.ae996f7e.png"><link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.d65c9a28.png"><link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.29aaa63f.png"><link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.3cf4276c.png"><link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.ea4f5076.png"><link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.bab4b2f7.png"><link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.cff7adb6.png"><link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.88c6db51.png"><link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.bafe8161.png"><link rel="icon" type="image/png" sizes="192x192" href="android-icon-192x192.db8619ca.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.936cab43.png"><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.16e9fdba.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.88d8dbe7.png"><link rel="manifest" href="img/icons/manifest.js"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="ms-icon-144x144.cff7adb6.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://rsms.me"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://rsms.me/inter/inter.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"><link rel="stylesheet" href="global.7c9a1627.css"></head><body>  <nav style="display:flex;align-items:stretch;position:absolute;right:.5em;top:.5em;z-index:2"> <div id="menu" class="dropdown" aria-live="polite" style="font-size:.8em"> <button class="menu-icon" aria-controls="menu"> <div></div> <span class="visually-hidden">menu</span> </button> <div class="right" style="width:7em"> <div> <a href="https://github.com/near/rainbow-bridge-frontend">View source</a> </div> <div data-behavior="signed-in" style="display:none;margin-top:.5em"> <button class="link" data-behavior="logout"> Sign out </button> </div> </div> </div> </nav><style>.menu-icon{padding-top:.5em}.menu-icon:after,.menu-icon:before,.menu-icon div{background-color:var(--fg);border-radius:3px;content:"";display:block;height:2px;margin:3px 0;width:1em}.transfers{width:100%;margin:4em auto 2em}.transfers>header{padding:0 1em}.transfers nav button{border-radius:100em}.panel{background-color:var(--bg);border-radius:1em;box-shadow:0 51px 121px rgba(0,0,0,.05),0 21.3066px 50.5509px rgba(0,0,0,.0359427),0 11.3915px 27.0269px rgba(0,0,0,.0298054),0 6.38599px 15.1511px rgba(0,0,0,.025),0 3.39155px 8.04662px rgba(0,0,0,.0201946),0 1.4113px 3.34838px rgba(0,0,0,.0140573);margin:0 auto;padding:1em}.account:first-child label:after{content:"From"}.account:nth-child(3) label:after{content:"To"}.account{font-size:.8em}.account label{margin-left:calc(1em + 1px);margin-bottom:.5em;text-align:left}.account>div{border:1px solid var(--light-gray);border-radius:.5em;padding:1em;display:grid;justify-content:space-between;grid-template-columns:auto auto;grid-gap:3em}.account>div>span{display:grid;align-items:center;grid-gap:.5em;grid-template-columns:auto auto}.transfer.in-progress{--fg-dark:#452500;--fg-medium:#995200;--fg-light:#e78513;--bg-dark:#ffdbb2;--bg-medium:#ffecd6;--bg-light:#fff6ed;--view-details:#995200;--chevron:#e78513}.transfer.success{--fg-dark:#00261c;--fg-medium:#005a46;--fg-light:#008d6a;--bg-dark:#90e9c5;--bg-medium:#c2fce0;--bg-light:#ecfdf5;--view-details:#008d6a;--chevron:#00c08b}.transfer.failure{--fg-dark:#450002;--fg-medium:#a00005;--fg-light:#ff585d;--bg-dark:#ffbdbe;--bg-medium:#ffdedf;--bg-light:#fef2f2;--view-details:#dc1f25;--chevron:#ff585d}.transfer.action-needed{--fg-dark:#001729;--fg-medium:#003560;--fg-light:#0072ce;--bg-dark:#8fcdff;--bg-medium:#c2e4ff;--bg-light:#f0f9ff;--view-details:#005497;--chevron:#0072ce}.transfer{color:var(--fg-medium)}.transfer h3{color:var(--fg-dark)}.transfer>header{background-color:var(--bg-dark)}.transfer>header button{background-color:var(--fg-light)}.transfer>div{background-color:var(--bg-light);border-color:var(--bg-medium)}.transfer>div>:first-child{color:var(--fg-light)}.transfer>footer>button{background-color:var(--bg-medium)}.transfer>footer button{color:var(--fg-medium);color:var(--view-details)}.transfer{overflow:hidden;margin:1rem auto;font-size:.75em}.transfer h3{font-size:1.333em;margin:0 0 .75rem}.transfer>header{padding:1.5rem 1rem 1rem}.transfer>div{padding:.5rem 1rem;display:grid;grid-gap:3rem;grid-template-columns:auto auto;justify-content:space-between;align-items:center}.transfer>div>:last-child{font-size:1.1667em}.transfer>div+div{border-top:1px solid var(--bg-medium)}.transfer>footer button{width:100%;text-align:center;padding:.5rem 1rem;border-radius:0}.transfer>footer button:focus,.transfer>footer button:hover{text-decoration:none;background-color:var(--bg-dark);box-shadow:inset 0 0 10em hsla(0,0%,100%,.3)}.transfer>footer button:active{color:var(--view-details);box-shadow:none}.transfer>footer button:before{display:inline-block;content:" ";height:.3em;width:.3em;border-bottom:2.5px solid var(--fg-light);border-right:2.5px solid var(--fg-light);border:2.5px solid var(--chevron);border-left:2.5px solid transparent;border-top:2.5px solid transparent;transform:rotate(45deg);margin-right:.5em;position:relative;top:-.1em}@media (min-width:25em){.transfers{max-width:22em}.transfers>header{padding:0}.transfer{border-radius:.5em}.transfer>*{max-width:22rem}}@media (min-width:928px){.landing .panel{margin-top:6em}.landing{background:url(landing-bg-left.24f92058.svg) no-repeat,url(landing-bg-right.95130647.svg) no-repeat;background-position:top 18.5em left calc(50% - 17em),top 24em right calc(50% - 16em)}}.account-tag{align-items:center;background-color:var(--light-gray);padding:.25em .25em .25em .75em;border-radius:1000em;display:grid;grid-gap:.5em;grid-template-columns:1fr auto}.account-tag>:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.8em}.account-tag>:last-child{width:1.5em}form.erc20{display:flex;flex-direction:column;min-height:100vh;width:100%}form.erc20>nav{border-bottom:1px solid var(--light-gray);margin:0 0 2em;padding:1em 1em .5em}form.erc20>header{margin:0 auto;max-width:15em;text-align:center}form.erc20>div{background-color:var(--shadow);margin:0 auto;max-width:25em;padding:1em;width:100%}form.erc20>div>header{align-items:center;display:grid;justify-content:space-between;grid-template-columns:auto auto;grid-gap:3em}form.erc20 .erc20-info{display:none;font-size:.8em;justify-content:space-between;margin:0}form.erc20>.erc20-info{background-color:var(--shadow);border-top:1px solid var(--light-gray);padding:1rem;margin:0 auto;width:100%;max-width:25rem}form.erc20 strong{font-weight:500;color:var(--fg-bold)}form.erc20 .inputs{background-color:var(--light-gray);border-radius:.75em;box-shadow:0 2px 4px rgba(0,0,0,.05);display:grid;grid-gap:1px;grid-template-columns:auto 1fr;margin-top:.5em}form.erc20 .inputs>*{background-color:var(--bg);color:var(--fg-bold);padding:.5em}form.erc20 .inputs>:focus{box-shadow:none}form.erc20 .inputs select{border-radius:.5rem 0 0 .5rem}form.erc20 .inputs input{border-radius:0 .5rem .5rem 0;font-size:1.4em;font-weight:900}form.erc20 .inputs :disabled{color:var(--gray);cursor:not-allowed}form.erc20 .inputs input[type=number]::-webkit-inner-spin-button,form.erc20 .inputs input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}form.erc20 input{text-align:right}form.erc20>footer{display:flex;flex-direction:column;flex:1;justify-content:flex-end;margin:2em auto 1em;max-width:25em;padding:1em;width:100%}@media (min-width:25em){form.erc20>div{border-radius:4px}form.erc20>footer{display:block}}@media (min-width:928px){form.erc20{background:url(form-bg-bottom-left.3dc9331c.svg) no-repeat,url(form-bg-bottom-right.b36f203d.svg) no-repeat;background-position:0 100%,100% 100%}}</style> <div class="landing" data-behavior="landing"> <h1 class="title"> <svg width="2.3em" viewBox="0 0 73 46" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.506 20.703c8.726 0 15.8 7.073 15.8 15.8h20.703C72.008 16.342 55.665 0 35.505 0v20.703z" fill="var(--fg-bold, #292526)"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 35.506 10.356)" fill="#0072CE"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 25.15 10.356)" fill="#37DBF4"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 10.356 16.274)" fill="#F2EE83"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 25.15 20.712)" fill="#00C08B"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 14.794 31.068)" fill="#FFB259"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 29.588 35.506)" fill="#FF585D"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 35.506 0)" fill="#8FCDFF"/></svg> <small> ETH <img alt="to and from" src="swap-lr.227be599.svg" style="vertical-align:bottom"> NEAR </small> <div>Rainbow</div> <div>Bridge</div> </h1> <div style="margin:0 auto 2.5em;max-width:22em;text-align:center;padding:1em"> <p> From <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow" class="concept-ethereum">ERC20</a> to <a href="https://github.com/nearprotocol/NEPs/pull/21" rel="nofollow" class="concept-near">NEP21</a> and back! Connect your NEAR and Ethereum accounts to get started. </p> <div class="panel"> <div class="account" data-behavior="account"> <label for="authEthereum">  </label> <div> <span class="concept-ethereum"> <img src="ethereum.f4172c37.svg" alt=""> <span>Ethereum</span> </span> <button id="authEthereum" data-behavior="authEthereum"> Connect </button> </div> </div> <button class="swap-vert" data-behavior="swap-accounts" style="margin:1em auto 0"> <span class="visually-hidden">swap</span> </button> <div class="account" data-behavior="account"> <label for="authNear">  </label> <div> <span style="color:var(--fg-bold)"> <svg width="1.5em" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12.5" r="12" fill="var(--fg-bold, #111618)"/><g clip-path="url(#clip0)"><path d="M15.632 7.134l-2.509 3.699a.264.264 0 00.22.411.268.268 0 00.176-.064l2.47-2.127a.1.1 0 01.166.076v6.658a.098.098 0 01-.066.094.1.1 0 01-.11-.03L8.514 6.98a1.278 1.278 0 00-.976-.45h-.26c-.34 0-.665.134-.905.372S6 7.462 6 7.799v9.378c0 .337.135.66.374.898a1.283 1.283 0 001.994-.233l2.509-3.699a.264.264 0 00-.22-.412.268.268 0 00-.176.064l-2.47 2.127a.1.1 0 01-.15-.02.1.1 0 01-.016-.055v-6.66a.099.099 0 01.066-.094.1.1 0 01.11.03l7.463 8.874a1.277 1.277 0 00.976.45h.26a1.285 1.285 0 001.183-.784c.064-.154.097-.32.097-.486V7.799c0-.337-.135-.66-.374-.898a1.283 1.283 0 00-1.994.233z" fill="var(--bg, white)"/></g><defs><clipPath id="clip0"><rect width="12" height="12" fill="var(--bg, white)" transform="translate(6 6.488)"/></clipPath></defs></svg> <span>NEAR</span> </span> <button id="authNear" data-behavior="authNear"> Connect </button> </div> </div> <button disabled data-behavior="start-erc20-transfer" class="cta" style="margin-top:2em"> Begin transfer </button> </div> </div> <div class="transfers" data-behavior="recent-transfers" style="display:none"> <header> <h2>Recent transfers</h2>  </header> <div data-behavior="transfers-container"></div> </div> </div> <form data-behavior="erc20Form" class="erc20" style="display:none"> <nav> <button type="button" data-behavior="erc20Cancel" class="link"> <svg width="2em" viewBox="0 0 73 46" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.506 20.703c8.726 0 15.8 7.073 15.8 15.8h20.703C72.008 16.342 55.665 0 35.505 0v20.703z" fill="var(--fg-bold, #292526)"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 35.506 10.356)" fill="#0072CE"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 25.15 10.356)" fill="#37DBF4"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 10.356 16.274)" fill="#F2EE83"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 25.15 20.712)" fill="#00C08B"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 14.794 31.068)" fill="#FFB259"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 29.588 35.506)" fill="#FF585D"/><rect width="10.356" height="10.356" transform="matrix(-1 0 0 1 35.506 0)" fill="#8FCDFF"/></svg> </button> </nav> <header> <h2>New Transfer</h2> <p>Select a token and enter an amount to transfer.</p> </header> <div> <header> <strong>From</strong> <span class="account-tag"> <span data-behavior="ethUser"></span> <img src="ethereum.f4172c37.svg" alt="ETH address"> </span> </header> <div class="inputs"> <select data-behavior="erc20Selector" id="erc20" name="erc20"> </select> <input autoComplete="off" data-behavior="erc20Amount" disabled min="0" placeholder="0" type="number"> </div> <p class="erc20-info" data-behavior="erc20Info" style="margin:.5rem 0 0"> <span>Available to transfer</span> <span> <span data-behavior="erc20Balance"></span> <span data-behavior="erc20Name"></span> </span> </p> </div> <button type="button" data-behavior="erc20Swap" class="swap-vert" style="margin:1em auto"> <span class="visually-hidden">swap</span> </button> <div> <header> <strong>To</strong> <span class="account-tag"> <span data-behavior="nearUser"></span> <svg width="undefined" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12.5" r="12" fill="var(--fg-bold, #111618)"/><g clip-path="url(#clip0)"><path d="M15.632 7.134l-2.509 3.699a.264.264 0 00.22.411.268.268 0 00.176-.064l2.47-2.127a.1.1 0 01.166.076v6.658a.098.098 0 01-.066.094.1.1 0 01-.11-.03L8.514 6.98a1.278 1.278 0 00-.976-.45h-.26c-.34 0-.665.134-.905.372S6 7.462 6 7.799v9.378c0 .337.135.66.374.898a1.283 1.283 0 001.994-.233l2.509-3.699a.264.264 0 00-.22-.412.268.268 0 00-.176.064l-2.47 2.127a.1.1 0 01-.15-.02.1.1 0 01-.016-.055v-6.66a.099.099 0 01.066-.094.1.1 0 01.11.03l7.463 8.874a1.277 1.277 0 00.976.45h.26a1.285 1.285 0 001.183-.784c.064-.154.097-.32.097-.486V7.799c0-.337-.135-.66-.374-.898a1.283 1.283 0 00-1.994.233z" fill="var(--bg, white)"/></g><defs><clipPath id="clip0"><rect width="12" height="12" fill="var(--bg, white)" transform="translate(6 6.488)"/></clipPath></defs></svg> </span> </header> </div> <p class="erc20-info" data-behavior="erc20Info"> <span>Receive as</span> <strong data-behavior="nep21Name"></strong> </p> <p class="erc20-info" data-behavior="erc20Info"> <span>Current balance</span> <strong> <span data-behavior="nep21Balance"></span> <span data-behavior="nep21Name"></span> </strong> </p> <footer> <button disabled data-behavior="erc20Submit" class="cta"> Submit transfer </button> </footer> </form><script>function e(){window.ethInitialized&&window.nearInitialized?window.find("start-erc20-transfer").disabled=!1:window.find("start-erc20-transfer").disabled=!0,Object.keys(window.urlParams.get()).length?window.hide("landing"):window.show("landing")}async function n(e,n){let{inProgress:t}=n;return'\n     <div\n      class="transfer '.concat(t?"in-progress":e.outcome,'"\n      id="').concat(e.id,'"\n      data-behavior="transfer"\n    >\n       <header>\n         <div>\n           <h3>').concat(e.amount," ").concat(e.erc20Name," </h3>\n           <div>").concat(t?' <span class="loader" style="border-top-color: var(--fg-medium); font-size: 0.75em; margin-left: -0.4em; top: -1.2em;display:inline-block"> </span> '+window.transfers.humanStatusFor(e):" <span>".concat("success"===e.outcome?"ðŸŒˆ":"ðŸ˜ž"," </span>")," </div>\n         </div>\n        ").concat(window.String(!t&&"success"!==e.outcome&&'\n           <div>\n             <button data-behavior="transferRetry">\n              Retry\n             </button>\n           </div>\n        '),"\n       </header>\n       <div> <span>From </span> <span>").concat(e.sender," </span> </div>\n       <div> <span>To </span> <span>").concat(e.recipient,' </span> </div>\n       <footer>\n         <button class="link" data-behavior="transferDetails">\n          View details\n         </button>\n       </footer>\n     </div>\n  ')}async function t(){const{inProgress:e,complete:t}=await window.transfers.get();e.length||t.length?window.show("recent-transfers"):window.hide("recent-transfers"),fill("transfers-container").with(await Promise.all([...t.map(e=>n(e,{inProgress:!1})),...e.map(e=>n(e,{inProgress:!0}))]))}window.renderers=[],window.addEventListener("load",function(){document.querySelector("[data-behavior=logout]").onclick=async function(){await window.web3Modal.clearCachedProvider(),window.nearConnection.signOut(),setTimeout(()=>window.location.reload())}}),window.addEventListener("load",function(){window.onClick("swap-accounts",function(){const[e,n]=window.findAll("account");fromInner=e.innerHTML,toInner=n.innerHTML,e.innerHTML=toInner,n.innerHTML=fromInner}),window.onClick("start-erc20-transfer",function(){window.urlParams.set({send:"erc20"}),window.render()}),document.querySelector("body").addEventListener("click",e=>{const n=e.target.closest("[data-behavior=transferRetry]");if(!n)return;const t=n.closest("[data-behavior=transfer]").id;window.transfers.retry(t,render)}),document.querySelector("body").addEventListener("click",e=>{e.target.closest("[data-behavior=transferDetails]")&&alert("Not yet implemented, try again tomorrow")})}),window.renderers.push(e),window.renderers.push(t);const a=e=>e>=1e5||e<.001&&0!==e?e.toExponential(2):new Intl.NumberFormat(void 0,{maximumSignificantDigits:5}).format(e);async function i(e){const n=new window.web3.eth.Contract(JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),e,{from:window.ethUserAddress});return Number(await n.methods.balanceOf(window.ethUserAddress).call())}function r(e){return e.replace("0x","").toLowerCase()+".ntf4.bridge2.testnet"}async function o(e){return(await new window.NearContract(window.nearConnection.account(),r(e),{viewMethods:["get_balance"]})).get_balance({owner_id:window.nearUserAddress}).then(e=>Number(e)).catch(()=>null)}function s(){"erc20"===window.urlParams.get("send")?window.show("erc20Form"):window.hide("erc20Form")}let d;async function u(){d||(d=await Promise.all("0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8,0xD959Dc6e63B9521A042A1b30003b00D0356a1cd5,0x09ff402D55096bFB134DD4a34A42579b7925becC,0x8151a8F90267bFf183E06921841C5dE774499388,0x21e7381368baa3f3e9640fe19780c4271ad96f37".split(",").map(async e=>{return{address:e,name:await window.getErc20Name(e)}})),window.fill("erc20Selector").with("<option>Select token</option>"+d.map(e=>{let{address:n,name:t}=e;return'<option value="'.concat(n,'">').concat(t,"</option>")})))}window.addEventListener("load",function(){const e=window.find("erc20Amount"),n=window.find("erc20Selector"),t=window.find("erc20Submit");window.find("erc20Cancel").onclick=function(){window.urlParams.clear(),window.render()},window.find("erc20Swap").onclick=function(){alert("Not yet supported, try again next week")},n.onchange=async function(n){if(e.value="","0x"!==n.target.value.slice(0,2))return e.disabled=!0,void window.hide("erc20Info");const[t,r,s]=await Promise.all([window.getErc20Name(n.target.value),i(n.target.value),o(n.target.value)]);window.fill("erc20Name").with(t),window.fill("erc20Balance").with(a(r)),window.fill("nep21Name").with("n"+t),window.fill("nep21Balance").with(a(s)),e.disabled=!1,e.max=r,window.show("erc20Info","flex"),e.focus()},e.onkeyup=function(e){Number(e.target.value)?t.disabled=!1:t.disabled=!0},window.find("erc20Form").onsubmit=async function(a){a.preventDefault(),e.disabled=!0,n.disabled=!0,t.disabled=!0;try{await window.transfers.initiate({amount:Number(e.value),naturalErc20:n.value})}catch(a){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),a}finally{e.disabled=!1,n.disabled=!1,t.disabled=!1}e.value="",window.urlParams.clear(),window.render()}}),window.renderers.push(s),window.renderers.push(u);</script> <script src="js.263131cd.js"></script> </body></html>