<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bridge Ethereum to NEAR and back again</title><meta property="og:title" content="ðŸŒˆ Rainbow Bridge ðŸŒˆ"><meta property="og:description" content="Bridge Ethereum to NEAR and back again"><meta property="og:image" content="rainbow-black.2b7b2946.gif"><meta name="twitter:card" content="summary_large_image"><link rel="icon" href="favicon.43446a37.ico"><link rel="manifest" href="site.webmanifest"><link rel="apple-touch-icon" href="android-chrome-192x192.6afa6472.png"><link rel="stylesheet" href="global.02278f42.css"></head><body>  <nav style="display:flex;align-items:stretch;position:absolute;right:.5em;top:.5em;z-index:2"> <div data-behavior="signed-in" id="transfers" class="dropdown" aria-live="polite" style="display:none"> <button aria-controls="transfers"> <div data-behavior="transfers-none"> <picture> <source srcset="bell-white.fbfc2767.svg" media="(prefers-color-scheme: dark)"> <img style="width:1em;vertical-align:middle" alt="no transfers" src="bell-black.6b4ef915.svg"> </picture> </div> <div data-behavior="transfers-in-progress" style="display:none"> <picture> <source srcset="rainbow-black.2b7b2946.gif" media="(prefers-color-scheme: dark)"> <img style="width:4em;vertical-align:middle" alt="view transfers" src="rainbow-white.aa043725.gif"> </picture> </div> <div data-behavior="transfers-all-complete" style="display:none"> <picture> <source srcset="bell-white.fbfc2767.svg" media="(prefers-color-scheme: dark)"> <img style="width:1em;vertical-align:middle" alt="no transfers" src="bell-black.6b4ef915.svg"> </picture> <div class="notification-indicator"> <span data-behavior="notification-count">#</span> <span class="visually-hidden">notifications</span> </div> </div> </button> <div class="right"> <div data-behavior="transfers-none"> <div style="display:flex;flex-direction:column;height:3em;justify-content:space-around;text-align:center;width:10em;"> No transfers </div> </div> <div data-behavior="transfers-container"></div> </div> </div> <div id="menu" class="dropdown" aria-live="polite" style="font-size:.8em"> <button class="menu-icon" aria-controls="menu"> <div></div> <span class="visually-hidden">menu</span> </button> <div class="right" style="width:7em"> <div> <a href="https://github.com/near-examples/erc20-to-nep21">View source</a> </div> <div data-behavior="signed-in" style="display:none;margin-top:.5em"> <button class="link" data-behavior="logout"> Sign out </button> </div> </div> </div> </nav><style>.menu-icon{padding-top:.5em}.menu-icon:after,.menu-icon:before,.menu-icon div{background-color:var(--fg);border-radius:3px;content:"";display:block;height:2px;margin:3px 0;width:1em}.notification-indicator{background-color:var(--secondary);border-radius:50em;color:var(--white);font-size:.55em;line-height:1;padding:.2em .4em;position:absolute;right:.5em;top:.5em;vertical-align:super}.transfer{background-color:var(--bg);border-radius:5px;display:flex;margin-bottom:.5em;min-height:3em;padding:.5rem;position:relative;text-align:left}.transfer:last-child{margin-bottom:0}.transfer header{align-items:center;display:grid;margin-right:.5em;grid-template-columns:repeat(5,auto);grid-gap:.2em}.transfer header .arrow{font-weight:200;color:var(--secondary)}.transfer header .arrow.failed{color:var(--error)}.transfer header .arrow.success{color:var(--success)}.transfer header .arrow.animate{animation:rainbow 1.5s ease-in-out infinite}.transfer header+*{display:flex;flex-direction:column;justify-content:space-around;text-align:center;flex:1}.transfer p{margin:0}.transfer footer{font-size:.8em;margin-right:-.5rem;margin-top:-.5rem}.transfer footer button{background:none;box-shadow:none;color:var(--fg);border:1px solid var(--bg);padding:0 .25em;text-decoration:none}.transfer footer button:focus,.transfer footer button:hover{background:var(--shadow)}.transfer footer button:focus{border-color:var(--light-gray)}.transfer footer button:active{background:var(--light-gray)}.erc20-to-near{align-items:stretch;grid-template-columns:repeat(3,minmax(10em,1fr));margin:4rem auto;max-width:20em}.erc20-to-near>*{display:flex;flex-direction:column;justify-content:space-around}.erc20-to-near section{border-radius:5px;border:1px solid var(--gray);display:flex;flex-direction:column;justify-content:space-between;padding:.5em .5em 0;position:relative;text-align:center}.erc20-to-near section header{position:absolute;top:-1.3em;left:0}.erc20-to-near section header img{height:1em}.erc20-to-near section button{padding:0 .25em}.erc20-to-near section footer{font-size:.8em}.erc20-to-near section footer img{width:1em;vertical-align:bottom}.erc20-to-near form button:after{content:"â†“"}@media(min-width:650px){.erc20-to-near{display:grid;max-width:40em}.erc20-to-near form button:after{content:"â†’"}}</style> <div data-behavior="signed-out"> <h1 class="title">Ethâ†’NEAR Fungible Tokens</h1> <div style="margin:0 auto;max-width:25em"> <p> Send an <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow">ERC20</a> token over the <a href="https://github.com/near/rainbow-bridge">Rainbow Bridge</a>, get an <a href="https://github.com/nearprotocol/NEPs/pull/21">NEP21</a> token on <a href="https://near.org/" rel="nofollow">NEAR</a> </p> <div style="text-align:center;margin-top:2.5em"> <p> <button data-behavior="authEthereum"> Connect to Ethereum </button> </p> <p> <button data-behavior="authNear"> Sign in with NEAR </button> </p> </div> </div> </div> <main data-behavior="signed-in" style="display:none"> <div class="erc20-to-near" data-behavior="erc20-to-near"> <section class="balance"> <header> <img alt="ethereum" src="eth-diamond-purple.353e9b14.png"> Ethereum </header> <div> <span id="erc20name" class="dropdown" aria-live="polite"> <button aria-controls="erc20name" data-behavior="ethErc20Name">ðŸ¤”</button> <small class="left" style="width:27em;text-align:left"> Contract <code data-behavior="ethErc20Address">ðŸ¤”</code> </small> </span> balance </div> <strong class="jumbo" data-behavior="erc20Balance">ðŸ¤”</strong> <footer> <img alt="account" src="account.8c24582a.svg"> <code data-behavior="ethUser" class="clip">ðŸ¤”</code> </footer> </section> <div data-behavior="notBridged" style="grid-column:span 2;margin:1em 0 0 1em;display:none"> <p> Not yet bridged! </p> <p> The <a href="https://github.com/near/rainbow-token-connector" target="_blank">Fungible Token Connector</a> allows sending any <a href="https://eips.ethereum.org/EIPS/eip-20" target="_blank">ERC20</a> token to NEAR, but requires a one-time deploy of a "BridgeToken" <a href="https://docs.near.org/docs/roles/developer/contracts/intro#get-started" target="_blank">smart contract</a>. No one has deployed such a contract for this token yet. </p> <p> But you can! </p> <p> It will require about 30 â“ƒ to cover <a href="https://docs.near.org/docs/concepts/storage" target="_blank">storage fees</a>. </p> <p> <button>Bridge it!</button> </p> </div> <div data-behavior="balanceZero" style="grid-column:span 2;margin:1em 0 0 1em"> <p> Uh oh! You have no <span data-behavior="ethErc20Name">ðŸ¤”</span> tokens. If you want to send some to yourself on NEAR, you'll need to get some on Ethereum first ðŸ˜„ </p> <p data-behavior="abound-token" style="display:none"> You can <a href="https://chadoh.com/abundance-token" target="_blank">mint yourself more <span data-behavior="ethErc20Name">ðŸ¤”</span></a>! </p> <p data-behavior="not-abound-token"> Maybe you need to use a different account? </p> </div> <form data-behavior="balancePositive" style="display:none;margin:3em 1em"> <fieldset id="fieldset"> <label for="amount" style="display:block;margin:-1em 0 .1em"> Send </label> <div style="display:flex"> <input autocomplete="off" id="amount" type="number"> <button id="submit" aria-controls="transfers" disabled style="border-radius:0 5px 5px 0"> <span class="visually-hidden">Confirm</span> </button> </div> </fieldset> </form> <section class="balance" data-behavior="balancePositive" style="display:none"> <header> <picture> <source srcset="near-icon-white.b9f9d65c.svg" media="(prefers-color-scheme: dark)"> <img alt="near" src="near-icon-black.fb80f1a9.svg"> </picture> NEAR </header> <div> <span id="nep21name" class="dropdown" aria-live="polite"> <button aria-controls="nep21name" data-behavior="nearNep21Name">ðŸ¤”</button> <small class="right" style="width:14em"> Contract <code data-behavior="nearFunTokenAccount">ðŸ¤”</code> </small> </span> balance </div> <strong class="jumbo" data-behavior="nep21Balance">ðŸ¤”</strong> <footer> <img alt="account" src="account.8c24582a.svg"> <code data-behavior="nearUser" class="clip">ðŸ¤”</code> </footer> </section> </div><script>async function e(e,n){let{inProgress:t}=n;return'\n       <div class="transfer" id="'.concat(e.id,'" data-behavior="transfer">\n         <header>\n          ').concat(t?' <span class="loader" style="font-size: 0.75em; margin: -0.5em 0 0 -0.7em">in progress: </span>':" <span>".concat("success"===e.outcome?"ðŸŒˆ":"ðŸ˜ž"," </span>"),"\n           <span>").concat(e.amount," </span>\n           <span>").concat(e.erc20Name,' </span>\n           <span class="arrow ').concat(t?"animate":e.outcome,'">â†’ </span>\n           <span>').concat("n"+e.erc20Name," </span>\n         </header>\n         <div>\n           <p>").concat(window.humanStatusFor(e)," </p>\n         </div>\n        ").concat(t?"":"\n           <footer>\n            ".concat("success"===e.outcome?'\n               <button data-behavior="delete-transfer">\n                 <span class="visually-hidden">clear </span>\n                 <span aria-hidden="true">â¨‰ </span>\n               </button>\n            ':'\n               <button data-behavior="retry-transfer">\n                 <span class="visually-hidden">retry </span>\n                 <span aria-hidden="true" title="retry">â†» </span>\n               </button>\n            ',"\n           </footer>\n        "),"\n       </div>\n    ")}async function n(){const{inProgress:n,complete:t}=window.getTransfers();n.length||t.length?(hide("transfers-none"),n.length?(show("transfers-in-progress"),hide("transfers-all-complete")):(hide("transfers-in-progress"),show("transfers-all-complete"))):(show("transfers-none"),hide("transfers-in-progress"),hide("transfers-all-complete")),fill("notification-count").with(t.length),fill("transfers-container").with(await Promise.all([...t.map(n=>e(n,{inProgress:!1})),...n.map(n=>e(n,{inProgress:!0}))]))}async function t(){window.fill("ethUser").with(window.ethUserAddress),window.fill("nearUser").with(window.nearUserAddress),window.fill("ethNetworkName").with(await window.web3.eth.net.getNetworkType());const e=await i(),n=await r();window.fill("erc20Balance").with(a(e)),0===e?(window.hide("balancePositive"),window.hide("notBridged"),window.show("balanceZero"),"0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8"===ethErc20Address?(window.show("abound-token"),window.hide("not-abound-token")):(window.hide("abound-token"),window.show("not-abound-token"))):null===n?(window.hide("balancePositive"),window.hide("balanceZero"),window.show("notBridged")):(window.fill("nep21Balance").with(a(n)),window.hide("balanceZero"),window.hide("notBridged"),window.show("balancePositive"))}window.renderers=[],window.addEventListener("load",function(){document.querySelector("[data-behavior=logout]").onclick=async function(){await window.web3Modal.clearCachedProvider(),window.nearConnection.signOut(),setTimeout(()=>window.location.reload())},document.querySelector("body").addEventListener("click",e=>{const n=e.target.closest("[data-behavior=delete-transfer]");if(!n)return;const t=n.closest("[data-behavior=transfer]").id;clearTransfer(t),render()}),document.querySelector("body").addEventListener("click",e=>{const n=e.target.closest("[data-behavior=retry-transfer]");if(!n)return;const t=n.closest("[data-behavior=transfer]").id;retryTransfer(t,render)})}),window.renderers.push(n),window.addEventListener("load",function(){document.querySelector("input#amount").oninput=(e=>{const n=document.querySelector("[data-behavior=erc20-to-near] form button");e.target.value>0?n.disabled=!1:n.disabled=!0}),document.querySelector("[data-behavior=erc20-to-near] form").onsubmit=(async e=>{e.preventDefault();const{amount:n,fieldset:t,submit:a}=e.target.elements;t.disabled=!0;try{await window.initiateTransfer({amount:n.value,callback:window.render,erc20:getParam("erc20")})}catch(r){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),r}finally{t.disabled=!1}n.value="",a.disabled=!0,await render();const i=document.querySelector("#transfers button");i.click(),i.focus()}),document.querySelector("[data-behavior=notBridged] button").onclick=function(){window.nearFungibleTokenFactory.deploy_bridge_token({address:getParam("erc20").replace("0x","")},new BN(3e13).mul(new BN(2)),new BN(utils.format.parseNearAmount("30.02")))}});const a=e=>e>=1e5||e<.001&&0!==e?e.toExponential(2):new Intl.NumberFormat(void 0,{maximumSignificantDigits:3}).format(e);async function i(){const e=new window.web3.eth.Contract(JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),getParam("erc20"),{from:window.ethUserAddress});return Number(await e.methods.balanceOf(window.ethUserAddress).call())}async function r(){return window.nep21.get_balance({owner_id:window.nearUserAddress}).then(e=>Number(e)).catch(()=>null)}window.renderers.push(t);</script> </main> <script src="js.c1d7db0c.js"></script> </body></html>