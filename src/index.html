<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="./assets/favicon.ico" />
  <link rel="apple-touch-icon" href="./assets/favicon.ico" />
  <title>Send an ERC20 from Ethereum to NEAR</title>
  <link rel="stylesheet" href="global.css">
</head>
<body>
  <div data-behavior="signed-out">
    <h1 class="title">Ethâ†’NEAR Fungible Tokens</h1>
    <div style="margin: 0 auto; max-width: 25em">
      <p>
        Send an <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow">ERC20</a> token over the <a href="https://github.com/near/rainbow-bridge">Rainbow Bridge</a>, get an <a href="https://github.com/nearprotocol/NEPs/pull/21">NEP21</a> token on <a href="https://near.org/" rel="nofollow">NEAR</a>
      </p>
      <!-- you can use posthtml to separate page into multiple files -->
      <div style="text-align: center; margin-top: 2.5em">
        <p>
          <button data-behavior="authEthereum">
            Connect to Ethereum <span data-behavior="ethNodeUrl">ðŸ¤”</span>
          </button>
        </p>
        <p>
          <button data-behavior="authNear">
            Sign in with NEAR
          </button>
        </p>
      </div>
    </div>
  </div>

  <div data-behavior="signed-in" style="display: none; height: 100%; flex-direction: column; justify-content: space-between">
    <nav style="display: flex; position: absolute; right: 0.5em; top: 0.5em; z-index: 2">
      <div id="notifications" class="dropdown" aria-live="polite">
        <button aria-controls="notifications" style="padding: 0.1em 0.25em">
          <div data-behavior="no-notifications">
            <picture>
              <source srcset="assets/bell-white.svg" media="(prefers-color-scheme: dark)">
              <img style="width: 1em; vertical-align: middle" alt="no notifications" src="assets/bell-black.svg">
            </picture>
          </div>
          <div data-behavior="has-notifications" style="display: none">
            <picture>
              <source srcset="assets/rainbow-black.gif" media="(prefers-color-scheme: dark)">
              <img style="width: 4em; vertical-align: middle" alt="view notifications" src="assets/rainbow-white.gif">
            </picture>
          </div>
        </button>
        <div class="right">
          <div data-behavior="no-notifications" style="
            display: flex;
            flex-direction: column;
            height: 5em;
            justify-content: space-around;
            text-align: center;
            width: 15em;
          ">
            No notifications
          </div>
          <div data-behavior="notifications-container"></div>
        </div>
      </div>
      <button class="link" data-behavior="logout" style="margin-left: 0.5em; font-size: 0.8em">
        Sign out
      </button>
    </nav>
    <main>
      <section class="balance">
        <header>
          <img alt="ethereum" src="assets/eth-diamond-purple.png">
          Ethereum
        </header>
        <div>
          <span id="erc20name" class="dropdown" aria-live="polite">
            <button aria-controls="erc20name" data-behavior="ethErc20Name">ðŸ¤”</button>
            <small class="left" style="width:27em; text-align:left">
              Contract <code data-behavior="ethErc20Address">ðŸ¤”</code>
            </small>
          </span>
          balance
        </div>
        <strong class="jumbo" data-behavior="erc20Balance">ðŸ¤”</strong>
        <footer>
          <img alt="account" src="assets/account.svg">
          <code data-behavior="ethUser" class="clip">ðŸ¤”</code>
        </footer>
      </section>
      <div data-behavior="balanceZero" style="grid-column: span 2; margin: 1em 0 0 1em">
        <p>
          Uh oh! You have no <span data-behavior="ethErc20Name">ðŸ¤”</span>
          tokens. If you want to send some to yourself on NEAR, you'll need to
          get some on Ethereum first ðŸ˜„
        </p>
        <p>
          Maybe you need to use a different account?
        </p>
      </div>
      <form data-behavior="balancePositive" style="display: none; margin: 3em 1em">
        <fieldset id="fieldset">
          <label
            for="amount"
            style="display: block; margin: -1em 0 0.1em"
          >
            Send
          </label>
          <div style="display: flex">
            <input
              autocomplete="off"
              id="amount"
              data-behavior="greeting"
              type="number"
            />
            <button id="submit" disabled style="border-radius: 0 5px 5px 0">
              <span class="visually-hidden">Confirm</span>
            </button>
          </div>
        </fieldset>
      </form>
      <section class="balance" data-behavior="balancePositive" style="display: none">
        <header>
          <picture>
            <source srcset="assets/near-icon-white.svg" media="(prefers-color-scheme: dark)">
            <img alt="near" src="assets/near-icon-black.svg">
          </picture>
          NEAR
        </header>
        <div>
          <span id="nep21name" class="dropdown" aria-live="polite">
            <button aria-controls="nep21name" data-behavior="nearNep21Name">ðŸ¤”</button>
            <small class="right" style="width:14em">
              Contract <code data-behavior="nearFunTokenAccount">ðŸ¤”</code>
            </small>
          </span>
          balance
        </div>
        <strong class="jumbo" data-behavior="nep21Balance">ðŸ¤”</strong>
        <footer>
          <img alt="account" src="assets/account.svg">
          <code data-behavior="nearUser" class="clip">ðŸ¤”</code>
        </footer>
      </section>
    </main>
    <footer style="
      display: grid;
      font-size: 0.75em;
      grid-column-gap: 1em;
      grid-template-columns: repeat(auto-fit, minmax(15em, 1fr));
      margin: 0 0 -1rem;
      word-break: break-word;
    ">
      <p>
        <strong>Ethereum:</strong><br>
        Connected to <code data-behavior="ethNetworkName">ðŸ¤”</code>,
        locking ERC20 <code data-behavior="ethErc20Address" class="clip">ðŸ¤”</code>
        (using ABI <code data-behavior="ethErc20AbiText" class="clip">ðŸ¤”</code>)
        in TokenLocker <code data-behavior="ethLockerAddress" class="clip">ðŸ¤”</code>
        (ABI <code data-behavior="ethLockerAbiText" class="clip">ðŸ¤”</code>)
      </p>
      <p>
        <strong>NEAR:</strong><br>
        Connected to archival NEAR node at <code data-behavior="nearNodeUrl">ðŸ¤”</code>
        for NEAR network <code data-behavior="nearNetworkId">ðŸ¤”</code>,
        minting NEP21 tokens via MintableFungibleToken at
        <code data-behavior="nearFunTokenAccount">ðŸ¤”</code>
      </p>
      <p>
        <strong>Bridge:</strong><br>
        Checking progress of Ethereum blocks at Eth2NearClient deployed at <code data-behavior="nearClientAccount">ðŸ¤”</code>
      </p>
    </footer>
  </div>

  <script src="./index.js"></script>
</body>
</html>
